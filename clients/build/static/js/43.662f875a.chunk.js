(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[43],{699:function(e,i,l){"use strict";var t=l(1),a=l(0),n=l.n(a),d=l(19),o=l(700),c=l(89),s=l(409),r=l(2);function u(e){var i,l=e.visible,a=e.config;return l?Object(r.jsx)(c.a,Object(t.a)(Object(t.a)({},a),{},{className:"btn-master",children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null})):null}function v(e){var i,l,a,n=e.theme,d=e.config;switch(null===n||void 0===n?void 0:n.type){case"visible":return Object(r.jsx)(u,{visible:!0,config:Object(t.a)({},d),children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null});case"disabled":return Object(r.jsx)(u,{visible:!0,config:Object(t.a)(Object(t.a)({},d),{},{disabled:!0}),children:null!==(l=null===e||void 0===e?void 0:e.children)&&void 0!==l?l:null});case"notification":return Object(r.jsx)(u,{visible:!0,config:Object(t.a)(Object(t.a)({},d),{},{onClick:function(){var i,l,t,a,n,d,o,c,r;s.a.open({message:null!==(i=null===e||void 0===e||null===(l=e.theme)||void 0===l||null===(t=l.property)||void 0===t?void 0:t.message)&&void 0!==i?i:"Access Denied",description:null!==(a=null===e||void 0===e||null===(n=e.theme)||void 0===n||null===(d=n.property)||void 0===d?void 0:d.description)&&void 0!==a?a:"Anda Tidak dapat Melakukan aksi",duration:null!==(o=null===e||void 0===e||null===(c=e.theme)||void 0===c||null===(r=c.property)||void 0===r?void 0:r.duration)&&void 0!==o?o:0})}}),children:null!==(a=null===e||void 0===e?void 0:e.children)&&void 0!==a?a:null});default:return null}}function b(e){var i,l,a=e.permission,n=e.role,d=e.config,o=e.theme;return a?"string"===typeof a&&a===n?Object(r.jsx)(u,{visible:!0,config:d,children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null}):Array.isArray(a)&&a.filter((function(e){return e===n})).length>0?Object(r.jsx)(u,{visible:!0,config:d,children:null!==(l=null===e||void 0===e?void 0:e.children)&&void 0!==l?l:null}):Object(r.jsx)(v,Object(t.a)(Object(t.a)({},e),{},{theme:o})):Object(r.jsx)(v,Object(t.a)(Object(t.a)({},e),{},{theme:o}))}b.defaultProps={role:"admin",theme:{type:"element",property:{}},permission:o.a,config:{block:!1,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,loading:!1,shape:"default",size:"large",target:null,type:"default",onClick:function(){}}},i.a=Object(d.b)((function(){return{}}),{})(n.a.memo(b))},700:function(e,i,l){"use strict";l.d(i,"a",(function(){return t}));var t=["admin","operator","public","guest"]},704:function(e,i,l){"use strict";var t=l(1),a=l(5),n=l(0),d=l(19),o=l(657),c=l(132),s=l(201),r=l(702),u=l(703),v=l(38),b=l(2);i.a=Object(d.b)((function(e){return{list:e.MasterData.airlines_type.list}}),{GET_LIST_MD_AIRLINES_TYPE:u.d})((function(e){var i,l,d,u,m,j,h=e.list,p=e.GET_LIST_MD_AIRLINES_TYPE,O=e.initialValue,f=void 0===O?null:O,y=e.keyValue,g=void 0===y?["id"]:y,x=e.keyDisplay,k=void 0===x?["data","name"]:x,S=Object(n.useState)({page:1,limit:50}),V=Object(a.a)(S,2),_=V[0];return V[1],Object(n.useEffect)((function(){p({query:_})}),[p,_]),Object(b.jsx)(o.a.Item,{initialValue:null!==f&&void 0!==f?f:null,hasFeedback:!0,name:null!==(i=null===e||void 0===e?void 0:e.name)&&void 0!==i?i:"type",label:null!==(l=null===e||void 0===e?void 0:e.label)&&void 0!==l?l:"Type",rules:null!==(d=null===e||void 0===e?void 0:e.rules)&&void 0!==d?d:[],children:Object(b.jsx)(c.a,Object(t.a)(Object(t.a)({},null===e||void 0===e?void 0:e.select),{},{loading:null!==(u=null===h||void 0===h?void 0:h.loading)&&void 0!==u&&u,showSearch:null!==(m=null===e||void 0===e||null===(j=e.select)||void 0===j?void 0:j.showSearch)&&void 0!==m&&m,notFoundContent:Object(b.jsx)(s.a,{size:"small"}),children:"function"===typeof(null===e||void 0===e?void 0:e.mapping)?null===e||void 0===e?void 0:e.mapping({data:null===h||void 0===h?void 0:h.data}):(null===h||void 0===h?void 0:h.data)&&Object(r.a)(null===h||void 0===h?void 0:h.data)&&(null===h||void 0===h?void 0:h.data.map((function(i,l){return null!==e&&void 0!==e&&e.children?"function"===typeof(null===e||void 0===e?void 0:e.children)?null===e||void 0===e?void 0:e.children({item:i,index:l}):null:Object(b.jsx)(c.a.Option,{value:Object(v.d)(i,null!==g&&void 0!==g?g:["id"]),children:Object(v.d)(i,null!==k&&void 0!==k?k:["data","name"])},Object(v.d)(i,null!==g&&void 0!==g?g:["id"]))})))}))})}))},710:function(e,i,l){"use strict";var t=l(3),a=l(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},d=l(23),o=function(e,i){return a.createElement(d.a,Object(t.a)({},e,{ref:i,icon:n}))};i.a=a.forwardRef(o)},722:function(e,i,l){"use strict";l.d(i,"a",(function(){return t}));var t="CUSTOM_EVENT"},732:function(e,i,l){"use strict";var t=l(9),a=l(1),n=l(5),d=l(0),o=l(19),c=l(657),s=l(134),r=l(86),u=l(717),v=l(132),b=l(639),m=l(402),j=l(704),h=l(705),p=l(706),O=l(38),f=l(712),y=l(185),g=l.n(y),x=l(123),k=l(2);i.a=Object(o.b)((function(e){return{}}))((function(e){var i,l,o,y,S,V,_,C,w=e.form,D=e.initialValue,A=Object(d.useState)(null),H=Object(n.a)(A,2),T=H[0],F=H[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(c.a,{form:w,layout:"vertical",initialValue:Object(a.a)({},D),children:[Object(k.jsxs)(s.a,{gutter:24,children:[Object(k.jsx)(r.a,{span:16,children:Object(k.jsx)(c.a.Item,{initialValue:null!==D&&void 0!==D&&D.date&&g()(null===D||void 0===D?void 0:D.date).isValid()?g()(null===D||void 0===D?void 0:D.date):null,hasFeedback:!0,name:"date",label:"Date",rules:[{required:!0,message:"Can't be empty!"}],children:Object(k.jsx)(u.a,{format:"DD/MM/YYYY",style:{width:"100%"},placeholder:"Select Date"})})}),Object(k.jsx)(r.a,{span:8,children:Object(k.jsx)(j.a,{name:"type",label:"Type",keyValue:["data","identifier"],keyDisplay:["data","name"],select:{showSearch:!0,placeholder:"Select your type"},mapping:function(e){var i=e.data,l=Object(O.b)(i,["data","name"],"ARR"),a=Object(O.b)(i,["data","name"],"DEPA");return[].concat(Object(t.a)(l),Object(t.a)(a)).map((function(e,i){var l;return Object(k.jsx)(v.a.Option,{value:null===e||void 0===e?void 0:e.identifier,children:null!==(l=Object(O.d)(e,["data","name"]))&&void 0!==l?l:"undefined"},null===e||void 0===e?void 0:e.id)}))},initialValue:null!==(i=null===D||void 0===D?void 0:D.type)&&void 0!==i?i:null,rules:[{required:!0,message:"Can't be empty!"}]})}),Object(k.jsx)(r.a,{span:12,children:Object(k.jsx)(h.a,{name:"airline_id",label:"Airlines",keyValue:["id"],keyDisplay:["data","name"],select:{onChange:function(e,i){F(i),w.setFieldsValue({airline_id:e})},placeholder:"Select Airlines"},initialValue:null!==(l=null===D||void 0===D?void 0:D.airline_id)&&void 0!==l?l:null,rules:[{required:!0,message:"Can't be empty!"}],children:function(e){var i,l,t,n=e.item,d=e.index;return Object(k.jsx)(v.a.Option,Object(a.a)(Object(a.a)({value:null===n||void 0===n?void 0:n.id},n),{},{children:Object(k.jsxs)(x.a,{alignItems:"center",className:"h-full mk-gap-2",children:[Object(k.jsx)(b.a,{src:["http://68.183.234.66:5008",null===n||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.image)||void 0===l?void 0:l.dark].join(""),size:30}),Object(k.jsx)("span",{children:[Object(O.d)(n,["data","name"]),null!==(t="(".concat(Object(O.d)(n,["data","code"]),")"))&&void 0!==t?t:""].join(" ")})]})}),"airlines-select-".concat(d))}})}),Object(k.jsx)(r.a,{span:12,children:Object(k.jsx)(c.a.Item,{initialValue:null!==(o=null===D||void 0===D?void 0:D.flight_no)&&void 0!==o?o:null,name:"flight_no",label:"Flight Number",rules:[{required:!0,message:"Can't be empty"},function(e){var i=e.getFieldValue;return{validator:function(e,l){return i("airline_id")?Promise.resolve():Promise.reject("please select the airline first!")}}}],children:Object(k.jsx)(m.a,{addonBefore:T&&null!==(y=null===T||void 0===T||null===(S=T.data)||void 0===S?void 0:S.code)&&void 0!==y?y:"-",placeholder:"Enter a flight number | e.g 100"})})}),Object(k.jsx)(r.a,{span:12,children:Object(k.jsx)(p.a,{name:"origin_id",label:"From / To",keyValue:["id"],displayValue:["data","name"],initialValue:null!==(V=null===D||void 0===D?void 0:D.origin_id)&&void 0!==V?V:null,select:{placeholder:"Select city from / to"},rules:[{required:!0,message:"Can't be empty!"}]})}),Object(k.jsx)(r.a,{span:6,children:Object(k.jsx)(c.a.Item,{hasFeedback:!0,name:"schedule_time",label:"Schedule",rules:[{required:!0,message:"Can't be empty!"}],initialValue:null!==D&&void 0!==D&&D.schedule_time&&g()(null===D||void 0===D?void 0:D.schedule_time,"HH:mm").isValid()?g()(null===D||void 0===D?void 0:D.schedule_time,"HH:mm"):null,children:Object(k.jsx)(u.a.TimePicker,{format:"HH:mm",disabledMinutes:function(){return O.c.disableMinutes([0],60)},style:{width:"100%"},placeholder:"Select schedule time"})})}),Object(k.jsx)(r.a,{span:6,children:Object(k.jsx)(c.a.Item,{hasFeedback:!0,name:"actual_time",label:"Actual",initialValue:null!==D&&void 0!==D&&D.actual_time&&g()(null===D||void 0===D?void 0:D.actual_time,"HH:mm").isValid()?g()(null===D||void 0===D?void 0:D.actual_time,"HH:mm"):null,children:Object(k.jsx)(u.a.TimePicker,{format:"HH:mm",disabledMinutes:function(){return O.c.disableMinutes([0],60)},style:{width:"100%"},placeholder:"Select Actual Time"})})}),Object(k.jsx)(r.a,{span:12,children:Object(k.jsx)(f.a,{name:"status",label:"Status",initialValue:null!==(_=null===D||void 0===D?void 0:D.status)&&void 0!==_?_:null,select:{placeholder:"Select your Statuse"},rules:[{required:!0,message:"Can't be empty!"}]})}),Object(k.jsx)(r.a,{xs:24,lg:24,children:Object(k.jsx)(c.a.Item,{initialValue:null!==(C=null===D||void 0===D?void 0:D.remarks)&&void 0!==C?C:null,hasFeedback:!0,name:"remarks",label:"Remarks",rules:[{required:!1,message:"Can't be empty!"}],children:Object(k.jsx)(m.a.TextArea,{allowClear:!0,placeholder:"input your remarks (optional)",showCount:!0,autoSize:{minRows:4,maxRows:6},size:"small"})})})]}),null===e||void 0===e?void 0:e.children]})})}))},802:function(e,i,l){"use strict";l.r(i);var t=l(5),a=l(0),n=l(19),d=l(697),o=l(699),c=l(683),s=l(710),r=l(114),u=l(657),v=l(408),b=l(640),m=l(38),j=l(185),h=l.n(j),p=l(163),O=l(57),f=l(732),y=l(126),g=l(722),x=l(58),k=l(2);i.default=Object(n.b)((function(e){return{}}),{SocketSend:y.c})((function(e){var i=e.SocketSend,l=Object(x.g)(),n=u.a.useForm(),j=Object(t.a)(n,1)[0],y=Object(a.useState)(!1),S=Object(t.a)(y,2),V=(S[0],S[1]);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(d.a,{loading:!1,name:"Create",positionName:["FIDS","Display"],thumbnail:null,positionColor:"cyan",extra:Object(k.jsxs)("div",{className:"d-flex align-items-center mk-gap-2",children:[Object(k.jsx)(o.a,{permission:["admin"],theme:{type:"notification",property:{message:"Access Denied",description:"Anda tidak dapat menyimpan ke database "}},config:{icon:Object(k.jsx)(c.a,{}),type:"primary",danger:!1,ghost:!0,size:"small",onClick:function(){l.push("/dashboard/display/system")}},children:Object(k.jsx)("span",{children:"Back"})}),Object(k.jsx)(o.a,{permission:["admin"],theme:{type:"notification",property:{message:"Access Denied",description:"Anda tidak dapat menyimpan ke database "}},config:{icon:Object(k.jsx)(s.a,{}),type:"primary",danger:!1,ghost:!1,size:"small",onClick:function(){V(!0),v.b.loading({key:"create-display-system",content:Object(k.jsx)(p.a,{text:"Loading",dots:3,speed:300}),duration:5}),j.validateFields().then((function(e){var l={};Object.entries(e).map((function(e){var i=Object(t.a)(e,2),a=i[0],n=i[1];switch(a){case"status":Reflect.set(l,a,"".concat(n).toLowerCase());break;case"date":Reflect.set(l,a,h()(n).format("YYYY-MM-DD"));break;case"schedule_time":case"actual_time":n?Reflect.set(l,a,h()(n).format("HH:mm")):Reflect.set(l,a,null);break;default:Reflect.set(l,a,n)}})),l&&"object"===typeof l&&Object.keys(l).length>0&&new O.a({url:"/api/v1/flight",body:l}).post().then((function(e){var t,a;null!==e&&void 0!==e&&e.success?(v.b.success({key:"create-display-system",content:null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"Successfully! save to database",duration:5}),i(JSON.stringify({from:m.c.getUserId,to:null===l||void 0===l?void 0:l.type,room:null===l||void 0===l?void 0:l.type,event:g.a,type:"update_event",message:g.a,data:null===e||void 0===e?void 0:e.data})),j.resetFields()):v.b.error({key:"create-display-system",content:null!==(a=null===e||void 0===e?void 0:e.message)&&void 0!==a?a:"Error: fail to database",duration:5})})).catch((function(e){var i;v.b.error({key:"create-display-system",content:null!==(i=null===e||void 0===e?void 0:e.message)&&void 0!==i?i:"Error: fail to database",duration:5})})),V(!1)})).catch((function(e){var i;v.b.error({key:"create-display-system",content:null!==(i=null===e||void 0===e?void 0:e.message)&&void 0!==i?i:"Some Error Field",duration:5})}))}},children:Object(k.jsx)("span",{children:"Save"})})]})}),Object(k.jsx)("div",{style:{marginTop:90},children:Object(k.jsx)(r.a,{children:Object(k.jsx)(b.a,{bordered:!1,children:Object(k.jsx)(f.a,{form:j,initialValue:{}})})})})]})}))}}]);
//# sourceMappingURL=43.662f875a.chunk.js.map