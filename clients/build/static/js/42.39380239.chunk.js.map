{"version":3,"sources":["history.js","auth/FetchInterceptor.js","views/auth-views/components/RegisterForm.js","views/auth-views/authentication/register-1/index.js"],"names":["history","service","axios","create","baseURL","API_BASE_URL","timeout","ENTRY_ROUTE","interceptors","request","use","config","jwtToken","localStorage","getItem","AUTH_TOKEN","headers","push","window","location","reload","error","notification","message","Promise","reject","response","data","notificationParam","status","description","removeItem","rules","email","required","type","password","confirm","getFieldValue","validator","rule","value","resolve","mapDispatchToProps","showAuthMessage","hideAuthMessage","showLoading","authenticated","connect","auth","loading","showMessage","token","redirect","props","extra","allowRedirect","Form","useForm","form","useHistory","div","initial","opacity","marginBottom","animate","showIcon","layout","name","onFinish","validateFields","then","values","Reflect","set","role","deleteProperty","ApiService","url","body","post","Message","info","resetFields","setTimeout","href","clearTimeout","catch","err","console","log","Item","label","hasFeedback","prefix","MailOutlined","className","Password","LockOutlined","hidden","initialValue","htmlType","block","backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","RegisterOne","useSelector","state","theme","currentTheme","style","justify","xs","sm","md","lg","src","alt","height","objectFit","marginTop","to"],"mappings":"iIAEeA,E,MAAAA,I,iBCITC,EAAUC,IAAMC,OAAO,CAC3BC,QAASC,IACTC,QAAS,MAILC,EAAc,cAKpBN,EAAQO,aAAaC,QAAQC,KAAI,SAAAC,GAChC,IAAMC,EAAWC,aAAaC,QAAQC,KAWrC,OATIH,IACFD,EAAOK,QAAyB,cAAIJ,GAGjCA,GAAaD,EAAOK,QAVA,oBAWzBhB,EAAQiB,KAAKV,GACbW,OAAOC,SAASC,UAGTT,CACT,IAAG,SAAAU,GAEFC,IAAaD,MAAM,CAClBE,QAAS,UAETC,QAAQC,OAAOJ,EACjB,IAGApB,EAAQO,aAAakB,SAAShB,KAAK,SAACgB,GACnC,OAAOA,EAASC,IACjB,IAAG,SAACN,GAEH,IAAIO,EAAoB,CACvBL,QAAS,IA0BV,OAtB8B,MAA1BF,EAAMK,SAASG,QAA4C,MAA1BR,EAAMK,SAASG,SACnDD,EAAkBL,QAAU,sBAC5BK,EAAkBE,YAAc,qBAChCjB,aAAakB,WAAWhB,KACxBf,EAAQiB,KAAKV,GACbW,OAAOC,SAASC,UAGa,MAA1BC,EAAMK,SAASG,SAClBD,EAAkBL,QAAU,aAGC,MAA1BF,EAAMK,SAASG,SAClBD,EAAkBL,QAAU,yBAGC,MAA1BF,EAAMK,SAASG,SAClBD,EAAkBL,QAAU,YAG7BD,IAAaD,MAAMO,GAEZJ,QAAQC,OAAOJ,EACvB,G,2LC7DMW,EAAQ,CACbC,MAAO,CACN,CACCC,UAAU,EACVX,QAAS,mCAEV,CACCY,KAAM,QACNZ,QAAS,mCAGXa,SAAU,CACT,CACCF,UAAU,EACVX,QAAS,+BAGXc,QAAS,CACR,CACCH,UAAU,EACVX,QAAS,iCAEV,gBAAGe,EAAa,EAAbA,cAAa,MAAQ,CACvBC,UAAS,SAACC,EAAMC,GACf,OAAKA,GAASH,EAAc,cAAgBG,EAGrCjB,QAAQC,OAAO,2BAFdD,QAAQkB,SAGjB,EACA,IAwHGC,EAAqB,CAC1BC,oBACAC,oBACAC,gBACAC,mBAGcC,eAZS,SAAH,GAAgB,IAAXC,EAAI,EAAJA,KAExB,MAAO,CAAEC,QADiDD,EAAnDC,QACW3B,QADwC0B,EAA1C1B,QACW4B,YAD+BF,EAAjCE,YACeC,MADkBH,EAApBG,MACSC,SADWJ,EAAbI,SAE/C,GASwCV,EAAzBK,EA3Ha,SAACM,GAC5B,IAAMC,EAAUD,EAAVC,MACsBL,GAA2FI,EAA/GR,YAA+GQ,EAAlGF,MAAkGE,EAA3FJ,SAAmB3B,GAAwE+B,EAAlFD,SAAkFC,EAAxE/B,SAAS4B,EAA+DG,EAA/DH,YACxD,GADuHG,EAAlDT,gBAAkDS,EAAjCP,cAAiCO,EAAlBE,cACtFC,IAAKC,WAAbC,EAAsB,iBAAlB,GACGC,cA2Cd,OACC,qCACC,cAAC,IAAOC,IAAG,CACVC,QAAS,CAAEC,QAAS,EAAGC,aAAc,GACrCC,QAAS,CACRF,QAASZ,EAAc,EAAI,EAC3Ba,aAAcb,EAAc,GAAK,GAChC,SACF,cAAC,IAAK,CAAChB,KAAK,QAAQ+B,UAAQ,EAAC3C,QAASA,MAEvC,eAAC,IAAI,CAACoC,KAAMA,EAAMQ,OAAO,WAAWC,KAAK,gBAAgBC,SAnD1C,WACbV,EAAKW,iBAAiBC,MAAK,SAAAC,GAAW,IAAD,EACtCC,QAAQC,IAAIF,EAAO,OAAmB,QAAb,EAAO,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQG,YAAI,QAAI,GAExCF,QAAQG,eAAeJ,EAAO,WAC9B,IAAIK,IAAW,CACdC,IAAI,sBACJC,KAAKP,IACHQ,OACDT,MAAK,SAAC7C,GACI,OAARA,QAAQ,IAARA,KAAUL,MASd4D,IAAQC,KAAa,OAARxD,QAAQ,IAARA,OAAQ,EAARA,EAAUH,UARtBqB,YAAwB,OAARlB,QAAQ,IAARA,OAAQ,EAARA,EAAUH,SAC1BoC,EAAKwB,cACLC,YAAW,WACVlE,OAAOC,SAASkE,KAAI,aACrB,GAAE,KACFC,eAKA,IACCC,OAAM,SAACC,GACTP,IAAQ5D,MAAS,OAAHmE,QAAG,IAAHA,OAAG,EAAHA,EAAKjE,QAClB,GACL,IAAGgE,OAAM,SAAAL,GACRO,QAAQC,IAAI,mBAAoBR,EACjC,GACD,EAuB8E,UAC3E,cAAC,IAAKS,KAAI,CACTvB,KAAK,WACLwB,MAAM,YACN5D,MAAO,CAAC,CAACE,UAAS,EAAKX,QAAQ,mBAC/BsE,aAAW,WAEX,cAAC,IAAK,CAACC,OAAQ,cAACC,EAAA,EAAY,CAACC,UAAU,qBAExC,cAAC,IAAKL,KAAI,CACTvB,KAAK,QACLwB,MAAM,QACN5D,MAAOA,EAAMC,MACb4D,aAAW,WAEX,cAAC,IAAK,CAACC,OAAQ,cAACC,EAAA,EAAY,CAACC,UAAU,qBAExC,cAAC,IAAKL,KAAI,CACTvB,KAAK,WACLwB,MAAM,WACN5D,MAAOA,EAAMI,SACbyD,aAAW,WAEX,cAAC,IAAMI,SAAQ,CAACH,OAAQ,cAACI,EAAA,EAAY,CAACF,UAAU,qBAEjD,cAAC,IAAKL,KAAI,CACTvB,KAAK,UACLwB,MAAM,kBACN5D,MAAOA,EAAMK,QACbwD,aAAW,WAEX,cAAC,IAAMI,SAAQ,CAACH,OAAQ,cAACI,EAAA,EAAY,CAACF,UAAU,qBAEjD,cAAC,IAAKL,KAAI,CACTvB,KAAK,OACLwB,MAAM,OACNC,aAAW,EACXM,QAAM,EACNC,aAAc,EAAE,SAEhB,cAAC,IAAK,CAAC3D,MAAO,MAGf,cAAC,IAAKkD,KAAI,UACT,cAAC,IAAM,CAACxD,KAAK,UAAUkE,SAAS,SAASC,OAAK,EAACpD,QAASA,EAAQ,SAAC,iBAKjEK,IAGL,I,mCClJMgD,EAAkB,CACvBC,gBAAiB,8BACjBC,iBAAkB,YAClBC,eAAgB,SA0CFC,UAvCK,SAAArD,GACLsD,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,YAAY,IAC3D,OACC,qBAAKf,UAAU,QAAQgB,MAAOT,EAAgB,SAC7C,qBAAKP,UAAU,4DAA2D,SACzE,cAAC,IAAG,CAACiB,QAAQ,SAAQ,SACpB,cAAC,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAE,SAClC,cAAC,IAAI,UACJ,sBAAKrB,UAAU,OAAM,UACpB,sBAAKA,UAAU,cAAa,UAC5B,qBACCA,UAAU,YACVsB,IAAG,WAA0B,YAA0BC,IAAI,qBAC3DP,MAAO,CACNQ,OAAO,OACPC,UAAU,UACVC,UAAU,MAGX,mBAAG1B,UAAU,aAAY,SAAC,6BAE3B,cAAC,IAAG,CAACiB,QAAQ,SAAQ,SACpB,cAAC,IAAG,CAACC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAG,SACnC,cAAC,EAAY,2BAAK/D,GAAK,IAAEC,MACxB,qBAAKyC,UAAW,aAAa,SAC5B,cAAC,IAAI,CAAC2B,GAAI,cAAc,SAAC,iCAYrC,C","file":"static/js/42.39380239.chunk.js","sourcesContent":["import * as history from 'history';\n\nexport default history.createBrowserHistory();","import axios from 'axios'\nimport { API_BASE_URL } from 'configs/AppConfig'\nimport history from '../history'\nimport { AUTH_TOKEN } from 'redux/constants/Auth'\nimport { notification } from 'antd';\n\nconst service = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 60000\n})\n\n// Config\nconst ENTRY_ROUTE = '/auth/login'\nconst TOKEN_PAYLOAD_KEY = 'authorization'\nconst PUBLIC_REQUEST_KEY = 'public-request'\n\n// API Request interceptor\nservice.interceptors.request.use(config => {\n\tconst jwtToken = localStorage.getItem(AUTH_TOKEN)\n\t\n  if (jwtToken) {\n    config.headers[TOKEN_PAYLOAD_KEY] = jwtToken\n  }\n\n  if (!jwtToken && !config.headers[PUBLIC_REQUEST_KEY]) {\n\t\thistory.push(ENTRY_ROUTE)\n\t\twindow.location.reload();\n  }\n\n  return config\n}, error => {\n\t// Do something with request error here\n\tnotification.error({\n\t\tmessage: 'Error'\n\t})\n  Promise.reject(error)\n})\n\n// API respone interceptor\nservice.interceptors.response.use( (response) => {\n\treturn response.data\n}, (error) => {\n\n\tlet notificationParam = {\n\t\tmessage: ''\n\t}\n\t\n\t// Remove token and redirect \n\tif (error.response.status === 400 || error.response.status === 403) {\n\t\tnotificationParam.message = 'Authentication Fail'\n\t\tnotificationParam.description = 'Please login again'\n\t\tlocalStorage.removeItem(AUTH_TOKEN)\n\t\thistory.push(ENTRY_ROUTE)\n\t\twindow.location.reload();\n\t}\n\n\tif (error.response.status === 404) {\n\t\tnotificationParam.message = 'Not Found'\n\t}\n\n\tif (error.response.status === 500) {\n\t\tnotificationParam.message = 'Internal Server Error'\n\t}\n\t\n\tif (error.response.status === 508) {\n\t\tnotificationParam.message = 'Time Out'\n\t}\n\n\tnotification.error(notificationParam)\n\n\treturn Promise.reject(error);\n});\n\nexport default service","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport { Button, Form, Input, Alert, message as Message } from \"antd\";\nimport { showAuthMessage, showLoading, hideAuthMessage, authenticated } from 'redux/actions/Auth';\nimport { useHistory } from \"react-router-dom\";\nimport { motion } from \"framer-motion\"\nimport JwtAuthService from 'services/JwtAuthService'\nimport ApiService from \"../../../services/api.service\";\n\nconst rules = {\n\temail: [\n\t\t{ \n\t\t\trequired: true,\n\t\t\tmessage: 'Please input your email address'\n\t\t},\n\t\t{ \n\t\t\ttype: 'email',\n\t\t\tmessage: 'Please enter a validate email!'\n\t\t}\n\t],\n\tpassword: [\n\t\t{ \n\t\t\trequired: true,\n\t\t\tmessage: 'Please input your password'\n\t\t}\n\t],\n\tconfirm: [\n\t\t{ \n\t\t\trequired: true,\n\t\t\tmessage: 'Please confirm your password!'\n\t\t},\n\t\t({ getFieldValue }) => ({\n\t\t\tvalidator(rule, value) {\n\t\t\t\tif (!value || getFieldValue('password') === value) {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t\treturn Promise.reject('Passwords do not match!');\n\t\t\t},\n\t\t})\n\t]\n}\n\nexport const RegisterForm = (props) => {\n\tlet { extra } = props\n\tconst { showLoading, token, loading, redirect, message, showMessage, hideAuthMessage, authenticated, allowRedirect } = props\n\tconst [form] = Form.useForm();\n\tlet history = useHistory();\n\n\tconst onSignUp = () => {\n    \tform.validateFields().then(values => {\n\t\t\t\tReflect.set(values,'role',values?.role ?? 4)\n\t\t\t// showLoading()\n\t\t    Reflect.deleteProperty(values,'confirm')\n\t\t    new ApiService({\n\t\t\t    url:`/api/v1/auth/signUp`,\n\t\t\t    body:values\n\t\t    }).post()\n\t\t\t    .then((response)=> {\n\t\t\t\t\t\tif(!response?.error){\n\t\t\t\t\t\t\tshowAuthMessage(response?.message)\n\t\t\t\t\t\t\tform.resetFields()\n\t\t\t\t\t\t\tsetTimeout(()=> {\n\t\t\t\t\t\t\t\twindow.location.href = `/auth/login`\n\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\tclearTimeout()\n\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\tMessage.info(response?.message)\n\t\t\t\t\t\t}\n\t\t\t    })\n\t\t\t    .catch((err)=> {\n\t\t\t\t\t\tMessage.error(err?.message)\n\t\t\t    })\n\t\t}).catch(info => {\n\t\t\tconsole.log('Validate Failed:', info);\n\t\t});\n\t}\n\n\t// useEffect(() => {\n  //   \tif (token !== null && allowRedirect) {\n\t// \t\thistory.push(redirect)\n\t// \t}\n\t// \tif(showMessage) {\n\t// \t\t\tsetTimeout(() => {\n\t// \t\t\thideAuthMessage();\n\t// \t\t}, 3000);\n\t// \t}\n  // });\n\t\n\treturn (\n\t\t<>\n\t\t\t<motion.div \n\t\t\t\tinitial={{ opacity: 0, marginBottom: 0 }} \n\t\t\t\tanimate={{ \n\t\t\t\t\topacity: showMessage ? 1 : 0,\n\t\t\t\t\tmarginBottom: showMessage ? 20 : 0 \n\t\t\t\t}}> \n\t\t\t\t<Alert type=\"error\" showIcon message={message}></Alert>\n\t\t\t</motion.div>\n\t\t\t<Form form={form} layout=\"vertical\" name=\"register-form\" onFinish={onSignUp}>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"fullName\"\n\t\t\t\t\tlabel=\"Full Name\"\n\t\t\t\t\trules={[{required:true,message:\"Can't be empty\"}]}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input prefix={<MailOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"email\" \n\t\t\t\t\tlabel=\"Email\" \n\t\t\t\t\trules={rules.email}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input prefix={<MailOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"password\" \n\t\t\t\t\tlabel=\"Password\" \n\t\t\t\t\trules={rules.password}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"confirm\" \n\t\t\t\t\tlabel=\"ConfirmPassword\" \n\t\t\t\t\trules={rules.confirm}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"role\"\n\t\t\t\t\tlabel=\"role\"\n\t\t\t\t\thasFeedback\n\t\t\t\t\thidden\n\t\t\t\t\tinitialValue={4}\n\t\t\t\t>\n\t\t\t\t\t<Input value={4}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t\n\t\t\t\t<Form.Item>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block loading={loading}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t\t{ extra }\n\t\t</>\n\t)\n}\n\nconst mapStateToProps = ({auth}) => {\n\tconst { loading, message, showMessage, token, redirect } = auth;\n  return { loading, message, showMessage, token, redirect }\n}\n\nconst mapDispatchToProps = {\n\tshowAuthMessage,\n\thideAuthMessage,\n\tshowLoading,\n\tauthenticated\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm)\n","import React from 'react'\nimport RegisterForm from '../../components/RegisterForm'\nimport { Card, Row, Col } from \"antd\";\nimport { useSelector } from 'react-redux'\nimport {Link} from \"react-router-dom\";\n\nconst backgroundStyle = {\n\tbackgroundImage: 'url(/img/others/img-17.jpg)',\n\tbackgroundRepeat: 'no-repeat',\n\tbackgroundSize: 'cover'\n}\n\nconst RegisterOne = props => {\n\tconst theme = useSelector(state => state.theme.currentTheme)\n\treturn (\n\t\t<div className=\"h-100\" style={backgroundStyle}>\n\t\t\t<div className=\"container d-flex flex-column justify-content-center h-100\">\n\t\t\t\t<Row justify=\"center\">\n\t\t\t\t\t<Col xs={20} sm={20} md={20} lg={7}>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<div className=\"my-2\">\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\n\t\t\t\t\t\t\t\t\tsrc={`/${theme === 'light' ? 'logo.png': 'logo.png'}`} alt=\"logo-fids-notifbox\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\theight:'26px',\n\t\t\t\t\t\t\t\t\t\tobjectFit:\"contain\",\n\t\t\t\t\t\t\t\t\t\tmarginTop:20,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">Create a new account:</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Row justify=\"center\">\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={20} lg={20}>\n\t\t\t\t\t\t\t\t\t\t<RegisterForm {...props} extra={\n\t\t\t\t\t\t\t\t\t\t\t<div className={'text-right'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/auth/login'}>Sign In</Link>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default RegisterOne\n"],"sourceRoot":""}