(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[34],{656:function(e,t,i){"use strict";var n=i(8),l=i(0),a=i(101),c=i(628),d=i(726),o=i(727),r=i(633),s=i(20),u=i(28),v=i(2),b=function(e){var t=e.children,i=e.background,a=e.className,c=e.overlap,d=e.navType,o=Object(l.useState)(0),r=Object(n.a)(o,2),s=r[0],b=r[1],j=Object(l.useRef)(null);Object(l.useEffect)((function(){if(d===u.d){var e=window.innerWidth,t=j.current.offsetWidth;b((e-t)/2)}}),[d]);return Object(v.jsx)("div",{ref:j,className:"page-header-alt ".concat(a||""," ").concat(c&&"overlap"),style:function(){var e={backgroundImage:i?"url(".concat(i,")"):"none"};return d===u.d&&(e.marginRight=-s,e.marginLeft=-s,e.paddingLeft=0,e.paddingRight=0),e}(),children:d===u.d?Object(v.jsx)("div",{className:"container",children:t}):Object(v.jsx)(v.Fragment,{children:t})})},j=(Object(s.b)((function(e){return{navType:e.theme.navType}}),{})(b),i(33)),m=i(177);var h=function(e){return Object(v.jsx)("div",{className:"".concat(["mk-mx-auto mk-max-w-screen-xl",null===e||void 0===e?void 0:e.className].join(" ")),children:e.children})};function O(e){var t=e.thumbnail,i=e.containerType,s=e.name,u=e.positionName,O=e.loading,f=e.size,p=e.extra,g=e.lookup,x=e.description,y=Object(l.useState)((function(){return"cyan"})),k=Object(n.a)(y,2),w=k[0];k[1];function N(){var i,n;return Object(v.jsxs)(a.a,{className:"py-2",mobileFlex:!1,justifyContent:"between",alignItems:"center",children:[Object(v.jsxs)(a.a,{className:null!==g&&void 0!==g&&g.thumbnail?"py-2":"py-4",mobileFlex:!1,justifyContent:"start",alignItems:"center",children:[(null===g||void 0===g?void 0:g.thumbnail)&&Object(v.jsx)("div",{className:["mk-w-[80px] mk-h-[80px] mk-rounded-full mk-overflow-hidden mk-flex mk-items-center mk-justify-center",t?"":"mk-bg-cyan-500"].join(" "),children:Object(v.jsx)(c.a,{loading:O,style:{background:"transparent"},size:null!==f&&void 0!==f?f:50,src:t?Object(v.jsx)(d.a,{preview:null!==(i=null===e||void 0===e?void 0:e.isPreview)&&void 0!==i&&i,width:null!==f&&void 0!==f?f:50,height:null!==f&&void 0!==f?f:50,style:{objectFit:"cover"},fallback:j.a.defaultImage,src:t}):null,children:t?null:j.a.getNameInitial(null!==s&&void 0!==s?s:"-")})}),Object(v.jsxs)("div",{className:null!==g&&void 0!==g&&g.thumbnail?"mx-4":"",children:[Object(v.jsx)(o.a.Title,{level:3,style:{lineHeight:1},className:"m-0 mb-2",children:s}),"boolean"!==typeof x&&""!==x&&null!==x&&Object(v.jsx)("div",{className:"mb-2",children:Object(v.jsx)(o.a.Text,{children:x})}),(null===g||void 0===g?void 0:g.positionName)&&(u&&"string"===typeof u?Object(v.jsx)(r.a,{color:null!==(n=null===e||void 0===e?void 0:e.positionColor)&&void 0!==n?n:w,children:null!==u&&void 0!==u?u:"-"}):Array.isArray(u)&&u.length>0?Object(v.jsx)(a.a,{alignItems:"center",children:u.map((function(t,i){var n;return"string"===typeof t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(r.a,{color:null!==(n=null===e||void 0===e?void 0:e.positionColor)&&void 0!==n?n:w,children:null!==t&&void 0!==t?t:"-"}),i<u.length-1&&Object(v.jsx)("div",{style:{width:"7px",height:"7px",borderRadius:"4px",margin:"0 10px 0 -2px",background:"#939393",opacity:.5}})]}):""}))}):null)]})]}),p&&p]})}return Object(v.jsx)(b,{className:"border-bottom",overlap:!0,children:function(e){switch(e){case"antd":case"primary":return Object(v.jsx)(h,{children:Object(v.jsx)(N,{})});default:return Object(v.jsx)(m.a,{children:Object(v.jsx)(N,{})})}}(i)})}O.defaultProps={containerType:"tailwind",lookup:{thumbnail:!0,positionName:!0},description:!1,name:null,positionName:null,loading:null,extra:null};t.a=O},657:function(e,t,i){"use strict";var n=i(1),l=i(0),a=i.n(l),c=i(20),d=i(144),o=i(379),r=i(2);function s(e){var t,i=e.visible,l=e.config;return i?Object(r.jsx)(d.a,Object(n.a)(Object(n.a)({},l),{},{className:"btn-master",children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null})):null}function u(e){var t,i,l,a=e.theme,c=e.config;switch(null===a||void 0===a?void 0:a.type){case"visible":return Object(r.jsx)(s,{visible:!0,config:Object(n.a)({},c),children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null});case"disabled":return Object(r.jsx)(s,{visible:!0,config:Object(n.a)(Object(n.a)({},c),{},{disabled:!0}),children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null});case"notification":return Object(r.jsx)(s,{visible:!0,config:Object(n.a)(Object(n.a)({},c),{},{onClick:function(){var t,i,n,l,a,c,d,r,s;o.a.open({message:null!==(t=null===e||void 0===e||null===(i=e.theme)||void 0===i||null===(n=i.property)||void 0===n?void 0:n.message)&&void 0!==t?t:"Access Denied",description:null!==(l=null===e||void 0===e||null===(a=e.theme)||void 0===a||null===(c=a.property)||void 0===c?void 0:c.description)&&void 0!==l?l:"Anda Tidak dapat Melakukan aksi",duration:null!==(d=null===e||void 0===e||null===(r=e.theme)||void 0===r||null===(s=r.property)||void 0===s?void 0:s.duration)&&void 0!==d?d:0})}}),children:null!==(l=null===e||void 0===e?void 0:e.children)&&void 0!==l?l:null});default:return null}}function v(e){var t,i,l=e.permission,a=e.role,c=e.config,d=e.theme;return l?"string"===typeof l&&l===a?Object(r.jsx)(s,{visible:!0,config:c,children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null}):Array.isArray(l)&&l.filter((function(e){return e===a})).length>0?Object(r.jsx)(s,{visible:!0,config:c,children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null}):Object(r.jsx)(u,Object(n.a)(Object(n.a)({},e),{},{theme:d})):Object(r.jsx)(u,Object(n.a)(Object(n.a)({},e),{},{theme:d}))}v.defaultProps={role:"admin",theme:{type:"element",property:{}},permission:["admin","operator","public","guest"],config:{block:!1,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,loading:!1,shape:"default",size:"large",target:null,type:"default",onClick:function(){}}};t.a=Object(c.b)((function(){return{}}),{})(a.a.memo(v))},685:function(e,t,i){"use strict";var n=i(4),l=i(0),a=i(287),c=i(24),d=function(e,t){return l.createElement(c.a,Object(n.a)({},e,{ref:t,icon:a.a}))};t.a=l.forwardRef(d)},705:function(e,t,i){"use strict";i.r(t);var n=i(10),l=i(1),a=i(8),c=i(0),d=i.n(c),o=i(20),r=i(656),s=i(657),u=i(177),v=i(688),b=i(378),j=i(671),m=i(672),h=i(724),O=i(609),f=i(109),p=i(47),g=i(101),x=i(685),y=i(49),k=i(2);t.default=Object(o.b)((function(e){return{}}))((function(){var e,t=Object(y.i)().id,i=v.a.useForm(),o=Object(a.a)(i,1)[0],w=Object(c.useState)(!1),N=Object(a.a)(w,2),I=N[0],F=N[1],S=Object(c.useState)({page:1,limit:100}),C=Object(a.a)(S,2),A=C[0],K=(C[1],Object(c.useState)({page:1,limit:100})),T=Object(a.a)(K,2),E=T[0],V=T[1],z=Object(c.useState)([]),R=Object(a.a)(z,2),q=R[0],L=R[1],P=Object(c.useState)([]),W=Object(a.a)(P,2),D=W[0],H=W[1],J=Object(c.useState)({}),M=Object(a.a)(J,2),_=M[0],B=M[1];Object(c.useEffect)((function(){F(!0),new p.a({url:"/api/v1/travel/".concat(t),config:{params:Object(l.a)({},A)}}).get().then((function(e){var t;B(Object(l.a)({},null===e||void 0===e?void 0:e.data)),L(Object(n.a)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.criteria.map((function(e){return{criteriaId:null===e||void 0===e?void 0:e.id,travelId:null===e||void 0===e?void 0:e.travelId,label:null===e||void 0===e?void 0:e.label,description:null===e||void 0===e?void 0:e.description,value:0}})))),V(Object(l.a)(Object(l.a)({},E),null===e||void 0===e?void 0:e.pagination)),F(!1)})).catch((function(e){F(!1),L([])}))}),[A]);var G=Object(c.useState)(!0),Q=Object(a.a)(G,2),U=Q[0],X=Q[1],Y=Object(c.useState)({page:1,limit:20}),Z=Object(a.a)(Y,2),$=Z[0],ee=(Z[1],Object(c.useState)({page:1,limit:10})),te=Object(a.a)(ee,2),ie=(te[0],te[1]),ne=Object(c.useState)([]),le=Object(a.a)(ne,2),ae=le[0],ce=le[1];return Object(c.useEffect)((function(){X(!0),new p.a({url:"/api/v1/master-data/category_value",config:{params:Object(l.a)({},A)}}).get().then((function(e){ce(Object(n.a)(null===e||void 0===e?void 0:e.data)),ie(Object(l.a)(Object(l.a)({},E),null===e||void 0===e?void 0:e.pagination)),X(!1)})).catch((function(e){X(!1),H([])}))}),[$]),Object(c.useEffect)((function(){o.resetFields()}),[ae,q]),Object(k.jsxs)(d.a.Fragment,{children:[Object(k.jsx)(r.a,{loading:I,name:null!==(e=null===_||void 0===_?void 0:_.name)&&void 0!==e?e:"Tambah",positionName:"".concat(null===_||void 0===_?void 0:_.location).split(" "),thumbnail:null,extra:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(s.a,{permission:["admin"],theme:{type:"notification",property:{description:"Mohon maaf nada tidak dapat melakukan aksi",message:"Access Denied"}},config:{loading:I,onClick:function(){F(!0);var e="created";b.b.loading({key:e,content:"Loading...",duration:4}),o.validateFields().then((function(t){t.criteria=t.criteria.map((function(e){return{criteriaId:null===e||void 0===e?void 0:e.criteriaId,value:null===e||void 0===e?void 0:e.value}})),F(!1),new p.a({url:"/api/v1/user/travel",body:t}).post().then((function(t){var i,n;null!==t&&void 0!==t&&t.error?b.b.error({key:e,content:null!==(i=null===t||void 0===t?void 0:t.message)&&void 0!==i?i:"Error: created category",duration:3}):b.b.success({key:e,content:null!==(n=null===t||void 0===t?void 0:t.message)&&void 0!==n?n:"Successfully created category",duration:3});o.resetFields(),F(!1)})).catch((function(t){var i;b.b.error({key:e,content:null!==(i=null===t||void 0===t?void 0:t.message)&&void 0!==i?i:"Error: created category",duration:3}),F(!1)}))})).catch((function(e){var t;b.b.error(null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"Some Error")}))},type:"primary",size:"small"},children:"Create"})})}),Object(k.jsx)(v.a,{form:o,layout:"vertical",initialValues:{criteria:null!==q&&void 0!==q?q:[],category:[]},children:Object(k.jsx)("div",{style:{marginTop:90},children:Object(k.jsx)(u.a,{children:Object(k.jsx)(j.a,{gutter:24,children:Object(k.jsx)(m.a,{xs:24,lg:16,children:Object(k.jsx)(h.a,{title:"Aspek Penilaian",children:Object(k.jsx)(v.a.List,{name:"criteria",children:function(e,t,i){t.add,t.remove;return Object(k.jsx)("div",{className:"mb-3",children:e.map((function(e,t){var i,n,a,c,d,o,r,s,u,b,j,m,h,p,y;return Object(k.jsx)("div",{className:"bg-white p-2 rounded",children:Object(k.jsxs)(g.a,{alignItems:"center",justifyContent:"between",mobileFlex:!0,className:"mk-gap-4",children:[Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",lineHeight:0,width:30,height:30,position:"relative"},children:[Object(k.jsx)(x.a,{style:{position:"absolute",left:-7.5,fontSize:25,transform:"rotate(90deg)"}}),Object(k.jsx)(x.a,{style:{position:"absolute",fontSize:25,transform:"rotate(90deg)"}})]}),Object(k.jsx)(v.a.Item,Object(l.a)(Object(l.a)({},e),{},{hidden:!0,name:[e.name,"criteriaId"],fieldKey:[e.fieldKey,"criteriaId"],rules:[{required:!0,message:"Can't be empty!"}],className:"w-100 m-0",hasFeedback:!0,initialValue:null!==(i=null===(n=D[t])||void 0===n||null===(a=n.data)||void 0===a?void 0:a.name)&&void 0!==i?i:"",style:{width:"100%"},children:Object(k.jsx)(O.a,{style:{width:"100%"},disabled:!0,defaultValue:null===(c=D[t])||void 0===c||null===(d=c.data)||void 0===d?void 0:d.name})})),Object(k.jsx)(v.a.Item,Object(l.a)(Object(l.a)({},e),{},{hidden:!0,name:[e.name,"travelId"],fieldKey:[e.fieldKey,"travelId"],rules:[{required:!0,message:"Can't be empty!"}],className:"w-100 m-0",hasFeedback:!0,initialValue:null!==(o=null===(r=D[t])||void 0===r||null===(s=r.data)||void 0===s?void 0:s.name)&&void 0!==o?o:"",style:{width:"100%"},children:Object(k.jsx)(O.a,{style:{width:"100%"},disabled:!0,defaultValue:null===(u=D[t])||void 0===u||null===(b=u.data)||void 0===b?void 0:b.name})})),Object(k.jsx)(v.a.Item,Object(l.a)(Object(l.a)({},e),{},{name:[e.name,"label"],fieldKey:[e.fieldKey,"label"],rules:[{required:!0,message:"Can't be empty!"}],className:"w-100 m-0",hasFeedback:!0,initialValue:null!==(j=null===(m=D[t])||void 0===m||null===(h=m.data)||void 0===h?void 0:h.name)&&void 0!==j?j:"",style:{width:"100%"},children:Object(k.jsx)(O.a,{style:{width:"100%"},disabled:!0,defaultValue:null===(p=D[t])||void 0===p||null===(y=p.data)||void 0===y?void 0:y.name})})),Object(k.jsx)(v.a.Item,Object(l.a)(Object(l.a)({},e),{},{name:[e.name,"value"],fieldKey:[e.fieldKey,"value"],rules:[{required:!0,message:"Can't be empty!"}],style:{width:"100%",maxWidth:"150px"},className:"m-0",hasFeedback:!0,children:Object(k.jsx)(f.a,{loading:U,children:Array.isArray(ae)&&ae.length>0?ae.map((function(e,t){return Object(k.jsx)(f.a.Option,{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)})):null})})),Object(k.jsx)(v.a.Item,Object(l.a)(Object(l.a)({},e),{},{hidden:!0,name:[e.name,"description"],fieldKey:[e.fieldKey,"description"],className:"w-100 m-0",style:{width:"100%"},children:Object(k.jsx)(O.a,{placeholder:"Input your text",style:{width:"100%"}})}))]})},t)}))})}})})})})})})})]})}))}}]);
//# sourceMappingURL=34.43179062.chunk.js.map