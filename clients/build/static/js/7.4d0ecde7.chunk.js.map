{"version":3,"sources":["views/dashboard-views/screens/settings-views/screens/edit-profile.setting.jsx"],"names":["AvatarComponent","props","useState","avatar","setAvatar","alignItems","mobileFlex","className","size","src","icon","onChange","info","key","file","status","getBase64","originFileObj","imageUrl","setState","avatarUrl","message","success","content","duration","loading","showUploadList","type","onClick","FormProfile","isAuthenticated","profile","ProfileUpdate","Form","useForm","form","useEffect","resetFields","console","log","name","layout","initialValues","onFinish","validateFields","then","value","catch","err","onFinishFailed","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","htmlType","EditProfile","avatarEndpoint","state","email","userName","dateOfBirth","phoneNumber","website","address","city","postcode","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","this","action","values","setTimeout","errorInfo","Component","connect","auth","positionName"],"mappings":"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","file":"static/js/7.4d0ecde7.chunk.js","sourcesContent":["import React, { useState, useEffect,Component } from 'react';\n\nimport {Avatar, DatePicker, Divider, Empty, message} from 'antd';\nimport { UserOutlined } from '@ant-design/icons';\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\nimport Flex from 'components/shared-components/Flex'\nimport { connect } from 'react-redux';\nimport SettingLayout from \"../setting.layout\";\nimport {Form, Input, Upload, Row, Col, Button} from 'antd'\nimport {ProfileUpdate} from \"../../../../../redux/actions/Auth\";\n\n\nfunction AvatarComponent(props){\n  \n  const [ avatar,setAvatar] = useState(\"/img/avatars/thumb-6.jpg\")\n  const onUploadAvatar = info => {\n    const key = 'updatable';\n    if (info.file.status === 'uploading') {\n      message.loading({ content: 'Uploading...', key, duration: 1000 });\n      return;\n    }\n    if (info.file.status === 'done') {\n      this.getBase64(info.file.originFileObj, imageUrl =>\n        this.setState({\n          avatarUrl: imageUrl,\n        }),\n      );\n      message.success({ content: 'Uploaded!', key,  duration: 1.5 });\n    }\n  };\n  \n  const onRemoveAvatar = () => {\n    setAvatar(null)\n  }\n  \n  return (\n    <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\n      <Avatar size={90} src={avatar} icon={<UserOutlined />}/>\n      <div className=\"ml-3 mt-md-0 mt-3 d-flex\">\n        <Upload onChange={onUploadAvatar} showUploadList={false}>\n          <Button type=\"primary\">Change Avatar</Button>\n        </Upload>\n        <Button className=\"ml-2\" onClick={onRemoveAvatar}>Remove</Button>\n      </div>\n    </Flex>\n  )\n}\n\nfunction FormProfile(props){\n  let { isAuthenticated, profile,ProfileUpdate } = props\n  const [ loading, setLoading ] = useState(false)\n  const [ form ] = Form.useForm()\n  const onFinish = ()=> {\n    form.validateFields()\n      .then((value)=> {\n        ProfileUpdate({...value})\n      })\n      .catch((err)=> {\n        console.log({err})\n      })\n  }\n  function onFinishFailed(){\n  \n  }\n  \n  useEffect(()=> {\n    form.resetFields()\n  },[])\n  console.log({profile})\n  return (\n    <Form\n      name=\"basicInformation\"\n      layout=\"vertical\"\n      form={form}\n      initialValues={profile ? {...profile} : {}}\n      onFinish={onFinish}\n      onFinishFailed={onFinishFailed}\n    >\n      <Row>\n        <Col xs={24} sm={24} md={24} lg={16}>\n          <Row gutter={ROW_GUTTER}>\n            <Col xs={24} sm={24} md={12}>\n              <Form.Item\n                label=\"First Name\"\n                name=\"first_name\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Please input your first name!',\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col xs={24} sm={24} md={12}>\n              <Form.Item\n                label=\"Last Name\"\n                name=\"last_name\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Please input your name!',\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col xs={24} sm={24} md={12}>\n              <Form.Item\n                label=\"Email\"\n                name=\"email\"\n                rules={[{\n                  required: true,\n                  type: 'email',\n                  message: 'Please enter a valid email!'\n                }]}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Button type=\"primary\" htmlType=\"submit\" loading={profile?.loading ?? false}>\n            Save Change\n          </Button>\n        </Col>\n      </Row>\n    </Form>\n  )\n}\n\nfunction EditProfileSetting(props)  {\n  let { profile,isAuthenticated } = props\n  return (\n    <SettingLayout positionName={['Settings']} name={'Edit Profile'}>\n      <AvatarComponent/>\n      <Divider/>\n      \n      {\n        isAuthenticated && profile ? (\n          <FormProfile {...props}/>\n        ): <Empty/>\n      }\n    </SettingLayout>\n  );\n}\n\n\n\nexport class EditProfile extends Component {\n  \n  avatarEndpoint = 'https://www.mocky.io/v2/5cc8019d300000980a055e76'\n  \n  state= {\n    avatarUrl: '/img/avatars/thumb-6.jpg',\n    name: 'Charlie Howard',\n    email: 'charlie.howard@themenate.com',\n    userName: 'Charlie',\n    dateOfBirth: null,\n    phoneNumber: '+44 (1532) 135 7921',\n    website: '',\n    address: '',\n    city: '',\n    postcode: ''\n  }\n  \n  getBase64(img, callback) {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result));\n    reader.readAsDataURL(img);\n  }\n  \n  render() {\n    \n    const onFinish = values => {\n      const key = 'updatable';\n      message.loading({ content: 'Updating...', key });\n      setTimeout(() => {\n        this.setState({\n          name: values.name,\n          email: values.email,\n          userName: values.userName,\n          dateOfBirth: values.dateOfBirth,\n          phoneNumber: values.phoneNumber,\n          website: values.website,\n          address: values.address,\n          city: values.city,\n          postcode: values.postcode,\n        })\n        message.success({ content: 'Done!', key, duration: 2 });\n      }, 1000);\n    };\n    \n    const onFinishFailed = errorInfo => {\n      console.log('Failed:', errorInfo);\n    };\n    \n    const onUploadAavater = info => {\n      const key = 'updatable';\n      if (info.file.status === 'uploading') {\n        message.loading({ content: 'Uploading...', key, duration: 1000 });\n        return;\n      }\n      if (info.file.status === 'done') {\n        this.getBase64(info.file.originFileObj, imageUrl =>\n          this.setState({\n            avatarUrl: imageUrl,\n          }),\n        );\n        message.success({ content: 'Uploaded!', key,  duration: 1.5 });\n      }\n    };\n    \n    const onRemoveAvater = () => {\n      this.setState({\n        avatarUrl: ''\n      })\n    }\n    \n    const { name, email, userName, dateOfBirth, phoneNumber, website, address, city, postcode, avatarUrl } = this.state;\n    \n    return (\n      <>\n        <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\n          <Avatar size={90} src={avatarUrl} icon={<UserOutlined />}/>\n          <div className=\"ml-3 mt-md-0 mt-3 d-flex\">\n            <Upload onChange={onUploadAavater} showUploadList={false} action={this.avatarEndpoint}>\n              <Button type=\"primary\">Change Avatar</Button>\n            </Upload>\n            <Button className=\"ml-2\" onClick={onRemoveAvater}>Remove</Button>\n          </div>\n        </Flex>\n        <div className=\"mt-4\">\n          <Form\n            name=\"basicInformation\"\n            layout=\"vertical\"\n            initialValues={\n              {\n                'name': name,\n                'email': email,\n                'username': userName,\n                'dateOfBirth': dateOfBirth,\n                'phoneNumber': phoneNumber,\n                'website': website,\n                'address': address,\n                'city': city,\n                'postcode': postcode\n              }\n            }\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n          >\n            <Row>\n              <Col xs={24} sm={24} md={24} lg={16}>\n                <Row gutter={ROW_GUTTER}>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Name\"\n                      name=\"name\"\n                      rules={[\n                        {\n                          required: true,\n                          message: 'Please input your name!',\n                        },\n                      ]}\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Username\"\n                      name=\"username\"\n                      rules={[\n                        {\n                          required: true,\n                          message: 'Please input your username!'\n                        },\n                      ]}\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Email\"\n                      name=\"email\"\n                      rules={[{\n                        required: true,\n                        type: 'email',\n                        message: 'Please enter a valid email!'\n                      }]}\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Date of Birth\"\n                      name=\"dateOfBirth\"\n                    >\n                      <DatePicker className=\"w-100\"/>\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Phone Number\"\n                      name=\"phoneNumber\"\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Website\"\n                      name=\"website\"\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={24}>\n                    <Form.Item\n                      label=\"Address\"\n                      name=\"address\"\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"City\"\n                      name=\"city\"\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                  <Col xs={24} sm={24} md={12}>\n                    <Form.Item\n                      label=\"Post code\"\n                      name=\"postcode\"\n                    >\n                      <Input />\n                    </Form.Item>\n                  </Col>\n                </Row>\n                <Button type=\"primary\" htmlType=\"submit\">\n                  Save Change\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n        </div>\n      </>\n    )\n  }\n}\n\n\nexport default connect(\n function({auth}){\n   let { isAuthenticated, profile} = auth\n   return {isAuthenticated, profile}\n },{ProfileUpdate}\n)(EditProfileSetting);"],"sourceRoot":""}