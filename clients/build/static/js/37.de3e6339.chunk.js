(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[37],{697:function(e,n,t){"use strict";var i=t(5),a=t(0),l=t(123),c=t(639),r=t(826),o=t(827),s=t(641),d=t(19),u=t(35),j=t(2),b=function(e){var n=e.children,t=e.background,l=e.className,c=e.overlap,r=e.navType,o=Object(a.useState)(0),s=Object(i.a)(o,2),d=s[0],b=s[1],m=Object(a.useRef)(null);Object(a.useEffect)((function(){if(r===u.d){var e=window.innerWidth,n=m.current.offsetWidth;b((e-n)/2)}}),[r]);return Object(j.jsx)("div",{ref:m,className:"page-header-alt ".concat(l||""," ").concat(c&&"overlap"),style:function(){var e={backgroundImage:t?"url(".concat(t,")"):"none"};return r===u.d&&(e.marginRight=-d,e.marginLeft=-d,e.paddingLeft=0,e.paddingRight=0),e}(),children:r===u.d?Object(j.jsx)("div",{className:"container",children:n}):Object(j.jsx)(j.Fragment,{children:n})})},m=(Object(d.b)((function(e){return{navType:e.theme.navType}}),{})(b),t(38)),v=t(114),g=t(698);function O(e){var n=e.thumbnail,t=e.containerType,d=e.name,u=e.positionName,O=e.loading,f=e.size,h=e.extra,p=e.lookup,x=e.description,y=Object(a.useState)((function(){return"cyan"})),k=Object(i.a)(y,2),w=k[0];k[1];function N(){var t,i;return Object(j.jsxs)(l.a,{className:"py-2",mobileFlex:!1,justifyContent:"between",alignItems:"center",children:[Object(j.jsxs)(l.a,{className:null!==p&&void 0!==p&&p.thumbnail?"py-2":"py-4",mobileFlex:!1,justifyContent:"start",alignItems:"center",children:[(null===p||void 0===p?void 0:p.thumbnail)&&Object(j.jsx)("div",{className:["mk-w-[80px] mk-h-[80px] mk-rounded-full mk-overflow-hidden mk-flex mk-items-center mk-justify-center",n?"":"mk-bg-cyan-500"].join(" "),children:Object(j.jsx)(c.a,{loading:O,style:{background:"transparent"},size:null!==f&&void 0!==f?f:50,src:n?Object(j.jsx)(r.a,{preview:null!==(t=null===e||void 0===e?void 0:e.isPreview)&&void 0!==t&&t,width:null!==f&&void 0!==f?f:50,height:null!==f&&void 0!==f?f:50,style:{objectFit:"cover"},fallback:m.c.defaultImage,src:n}):null,children:n?null:m.c.getNameInitial(null!==d&&void 0!==d?d:"-")})}),Object(j.jsxs)("div",{className:null!==p&&void 0!==p&&p.thumbnail?"mx-4":"",children:[Object(j.jsx)(o.a.Title,{level:3,style:{lineHeight:1},className:"m-0 mb-2",children:d}),"boolean"!==typeof x&&""!==x&&null!==x&&Object(j.jsx)("div",{className:"mb-2",children:Object(j.jsx)(o.a.Text,{children:x})}),(null===p||void 0===p?void 0:p.positionName)&&(u&&"string"===typeof u?Object(j.jsx)(s.a,{color:null!==(i=null===e||void 0===e?void 0:e.positionColor)&&void 0!==i?i:w,children:null!==u&&void 0!==u?u:"-"}):Array.isArray(u)&&u.length>0?Object(j.jsx)(l.a,{alignItems:"center",children:u.map((function(n,t){var i;return"string"===typeof n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(s.a,{color:null!==(i=null===e||void 0===e?void 0:e.positionColor)&&void 0!==i?i:w,children:null!==n&&void 0!==n?n:"-"}),t<u.length-1&&Object(j.jsx)("div",{style:{width:"7px",height:"7px",borderRadius:"4px",margin:"0 10px 0 -2px",background:"#939393",opacity:.5}})]}):""}))}):null)]})]}),h&&h]})}return Object(j.jsx)(b,{className:"border-bottom",overlap:!0,children:function(e){switch(e){case"antd":case"primary":return Object(j.jsx)(g.a,{children:Object(j.jsx)(N,{})});default:return Object(j.jsx)(v.a,{children:Object(j.jsx)(N,{})})}}(t)})}O.defaultProps={containerType:"tailwind",lookup:{thumbnail:!0,positionName:!0},description:!1,name:null,positionName:null,loading:null,extra:null};n.a=O},698:function(e,n,t){"use strict";t(0);var i=t(2);n.a=function(e){return Object(i.jsx)("div",{className:"".concat(["mk-mx-auto mk-max-w-screen-xl",null===e||void 0===e?void 0:e.className].join(" ")),children:e.children})}},699:function(e,n,t){"use strict";var i=t(1),a=t(0),l=t.n(a),c=t(19),r=t(700),o=t(89),s=t(409),d=t(2);function u(e){var n,t=e.visible,a=e.config;return t?Object(d.jsx)(o.a,Object(i.a)(Object(i.a)({},a),{},{className:"btn-master",children:null!==(n=null===e||void 0===e?void 0:e.children)&&void 0!==n?n:null})):null}function j(e){var n,t,a,l=e.theme,c=e.config;switch(null===l||void 0===l?void 0:l.type){case"visible":return Object(d.jsx)(u,{visible:!0,config:Object(i.a)({},c),children:null!==(n=null===e||void 0===e?void 0:e.children)&&void 0!==n?n:null});case"disabled":return Object(d.jsx)(u,{visible:!0,config:Object(i.a)(Object(i.a)({},c),{},{disabled:!0}),children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null});case"notification":return Object(d.jsx)(u,{visible:!0,config:Object(i.a)(Object(i.a)({},c),{},{onClick:function(){var n,t,i,a,l,c,r,o,d;s.a.open({message:null!==(n=null===e||void 0===e||null===(t=e.theme)||void 0===t||null===(i=t.property)||void 0===i?void 0:i.message)&&void 0!==n?n:"Access Denied",description:null!==(a=null===e||void 0===e||null===(l=e.theme)||void 0===l||null===(c=l.property)||void 0===c?void 0:c.description)&&void 0!==a?a:"Anda Tidak dapat Melakukan aksi",duration:null!==(r=null===e||void 0===e||null===(o=e.theme)||void 0===o||null===(d=o.property)||void 0===d?void 0:d.duration)&&void 0!==r?r:0})}}),children:null!==(a=null===e||void 0===e?void 0:e.children)&&void 0!==a?a:null});default:return null}}function b(e){var n,t,a=e.permission,l=e.role,c=e.config,r=e.theme;return a?"string"===typeof a&&a===l?Object(d.jsx)(u,{visible:!0,config:c,children:null!==(n=null===e||void 0===e?void 0:e.children)&&void 0!==n?n:null}):Array.isArray(a)&&a.filter((function(e){return e===l})).length>0?Object(d.jsx)(u,{visible:!0,config:c,children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null}):Object(d.jsx)(j,Object(i.a)(Object(i.a)({},e),{},{theme:r})):Object(d.jsx)(j,Object(i.a)(Object(i.a)({},e),{},{theme:r}))}b.defaultProps={role:"admin",theme:{type:"element",property:{}},permission:r.a,config:{block:!1,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,loading:!1,shape:"default",size:"large",target:null,type:"default",onClick:function(){}}},n.a=Object(c.b)((function(){return{}}),{})(l.a.memo(b))},700:function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var i=["admin","operator","public","guest"]},710:function(e,n,t){"use strict";var i=t(3),a=t(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},c=t(23),r=function(e,n){return a.createElement(c.a,Object(i.a)({},e,{ref:n,icon:l}))};n.a=a.forwardRef(r)},730:function(e,n,t){"use strict";var i=t(9),a=t(1),l=t(5),c=t(0),r=t(19),o=t(657),s=t(132),d=t(57),u=t(38),j=t(2);n.a=Object(r.b)((function(e){return{}}))((function(e){var n=e.name,t=e.label,r=e.rules,b=e.selectValue,m=e.selectLabel,v=Object(c.useState)([]),g=Object(l.a)(v,2),O=g[0],f=g[1],h=Object(c.useState)(!1),p=Object(l.a)(h,2),x=p[0],y=p[1],k=Object(c.useState)({page:1,limit:100}),w=Object(l.a)(k,1)[0],N=Object(c.useState)({page:1,limit:50}),C=Object(l.a)(N,2),A=C[0],I=C[1];return Object(c.useEffect)((function(){y(!0),new d.a({url:"/api/v1/audio/category",config:{params:Object(a.a)({},w)}}).get().then((function(e){f(Object(i.a)(null===e||void 0===e?void 0:e.data)),I(Object(a.a)(Object(a.a)(Object(a.a)({},A),null===e||void 0===e?void 0:e.pagination),null===e||void 0===e?void 0:e.paginate)),y(!1)})).catch((function(e){y(!1),f([])}))}),[w]),Object(j.jsx)(o.a.Item,{name:null!==n&&void 0!==n?n:"category_id",label:null!==t&&void 0!==t?t:"Audio Category",rules:null!==r&&void 0!==r?r:[],children:Object(j.jsx)(s.a,{loading:x,children:Array.isArray(O)&&O.length>0?O.map((function(e,n){return Object(j.jsx)(s.a.Option,{value:Object(u.d)(e,b),children:Object(u.d)(e,m)},n)})):null})})}))},836:function(e,n,t){"use strict";t.r(n);var i=t(5),a=t(0),l=t(19),c=t(697),r=t(114),o=t(1),s=t(11),d=t(640),u=t(657),j=t(402),b=t(132),m=t(89),v=t(57),g=t(737),O=t(123),f=t(726),h=t(644),p=t(707),x=t(38),y=t(171),k=t(100),w=t(2),N=["form","__getAnCategorySelectionsList","category"];var C=Object(l.b)((function(e){return{category:e._Announcement.collections.category}}),{__getAnCategorySelectionsList:y.d})((function(e){var n,t=e.form,l=e.__getAnCategorySelectionsList,c=e.category,r=(Object(s.a)(e,N),Object(a.useState)(!1)),v=Object(i.a)(r,2),y=v[0],C=(v[1],Object(a.useState)(["chime-open","attention","airlines","queue","airline","airline_code","destination","city","boarding","boarding_gate","thankyou"])),A=Object(i.a)(C,2),I=A[0],S=(A[1],Object(a.useState)((function(){return I.map((function(e,n){return{order:n,value:e}}))}))),F=Object(i.a)(S,2);return F[0],F[1],Object(a.useEffect)((function(){l({page:1,limit:100})}),[l]),Object(w.jsx)(d.a,{bordered:!1,title:"Announcement Mapping",children:null!==c&&void 0!==c&&null!==(n=c.select)&&void 0!==n&&n.loading?Object(w.jsx)(k.a,{}):Object(w.jsx)(g.a,{onDragEnd:function(e,n,a){if(e.destination){var l=t.getFieldsValue(),c=Array.from(Object(x.d)(l,["audios"])),r=c.splice(e.source.index,1),s=Object(i.a)(r,1)[0];s.order=e.destination.index,c.splice(e.destination.index,0,s);for(var d=0;d<c.length;d++){var u;c[d].order="undefined"===typeof(null===(u=c[d])||void 0===u?void 0:u.order)?0:d,c[d]=Object(o.a)({},c[d])}t.setFieldsValue({audios:null!==c&&void 0!==c?c:[]})}},children:Object(w.jsx)(g.c,{droppableId:"audios",children:function(e){var n,t;return Object(w.jsx)("div",Object(o.a)(Object(o.a)({},e.droppableProps),{},{className:"droppable",ref:e.innerRef,children:Object(w.jsx)(u.a.List,{initialValue:null!==(n=null===c||void 0===c||null===(t=c.select)||void 0===t?void 0:t.data)&&void 0!==n?n:[],name:"audios",children:function(e,n,t){var i=n.add,a=n.remove;return Object(w.jsxs)("div",{className:"mb-3",children:[e.map((function(n,t){return Object(w.jsx)(g.b,{fields:e,draggableId:["language",n.name].join("-"),index:t,children:function(l){var r;return Object(w.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:"bg-white p-2 rounded",ref:l.innerRef},l.draggableProps),l.dragHandleProps),{},{children:Object(w.jsxs)(O.a,{alignItems:"center",justifyContent:"between",mobileFlex:!0,className:"mk-gap-4",children:[Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center",lineHeight:0,width:30,height:30,position:"relative"},children:[Object(w.jsx)(f.a,{style:{position:"absolute",left:-7.5,fontSize:25,transform:"rotate(90deg)"}}),Object(w.jsx)(f.a,{style:{position:"absolute",fontSize:25,transform:"rotate(90deg)"}})]}),Object(w.jsx)(u.a.Item,Object(o.a)(Object(o.a)({},n),{},{name:[n.name,"order"],fieldKey:[n.fieldKey,"order"],rules:[{required:!0,message:"Can't be empty!"}],hidden:!0,initialValue:t,children:Object(w.jsx)(j.a,{value:t})})),Object(w.jsx)(u.a.Item,Object(o.a)(Object(o.a)({},n),{},{name:[n.name,"name"],fieldKey:[n.fieldKey,"name"],rules:[{required:!0,message:"Can't be empty!"}],className:"w-100 m-0",children:Object(w.jsx)(b.a,{loading:y,showSearch:!0,children:null===(r=c.select)||void 0===r?void 0:r.data.map((function(e,n){return Object(w.jsx)(b.a.Option,{value:null===e||void 0===e?void 0:e.name,children:"".concat(null===e||void 0===e?void 0:e.name).replace(/-/g," ")},null===e||void 0===e?void 0:e.name)}))})})),Object(w.jsxs)(O.a,{alignItems:"center",justifyContent:"between",mobileFlex:!0,className:"mk-gap-2",children:[e.length-1===t&&e.length<c.select.data.length&&Object(w.jsx)(m.a,{type:"primary",shape:"circle",size:"small",onClick:function(){i()},icon:Object(w.jsx)(h.a,{})}),Object(w.jsx)(m.a,{type:"primary",danger:!0,shape:"circle",size:"small",onClick:function(){a(n.name)},icon:Object(w.jsx)(p.a,{})})]})]})}))}},["language",n.name].join("-"))})),0===e.length&&Object(w.jsx)(m.a,{type:"dashed",className:"w-100",onClick:function(){i()},icon:Object(w.jsx)(h.a,{}),children:"Add Announcement"})]})}})}))}})})})})),A=t(408),I=t(134),S=t(86),F=t(730),_=t(9);t(152);var z=Object(l.b)((function(e){return{}}))((function(e){var n=e.form,t=Object(a.useState)(!1),l=Object(i.a)(t,2),c=l[0],r=l[1],s=Object(a.useState)({page:1,limit:10}),y=Object(i.a)(s,2),k=y[0],N=(y[1],Object(a.useState)([])),C=Object(i.a)(N,2),A=C[0],I=C[1];return Object(a.useEffect)((function(){r(!0),new v.a({url:"/api/v1/audio/language",config:{params:Object(o.a)({},k)}}).get().then((function(e){I(Object(_.a)(null===e||void 0===e?void 0:e.data)),r(!1)})).catch((function(e){I([]),r(!1)}))}),[k]),Object(w.jsx)(d.a,{bordered:!1,title:"Language Mapping",children:Object(w.jsx)(g.a,{onDragEnd:function(e){return function(e){if(e.destination){var t=n.getFieldsValue(),a=Array.from(Object(x.d)(t,["language"])),l=a.splice(e.source.index,1),c=Object(i.a)(l,1)[0];c.order=e.destination.index,a.splice(e.destination.index,0,c);for(var r=0;r<a.length;r++){var s;a[r].order="undefined"===typeof(null===(s=a[r])||void 0===s?void 0:s.order)?0:r,a[r]=Object(o.a)({},a[r])}n.setFieldsValue({language:null!==a&&void 0!==a?a:[]})}}(e)},children:Object(w.jsx)(g.c,{droppableId:"language",children:function(e){return Object(w.jsx)("div",Object(o.a)(Object(o.a)({className:"characters"},e.droppableProps),{},{ref:e.innerRef,children:Object(w.jsx)(u.a.List,{name:"language",initialValue:[{order:0,language_id:null}],children:function(e,n){var t=n.add,i=n.remove;return Object(w.jsxs)("div",{className:"mb-3",children:[e.map((function(n,a){return Object(w.jsx)(g.b,{fields:e,draggableId:["language",n.name].join("-"),index:a,children:function(l){return Object(w.jsx)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:"bg-white p-2 rounded",ref:l.innerRef},l.draggableProps),l.dragHandleProps),{},{children:Object(w.jsxs)(O.a,{alignItems:"center",justifyContent:"between",mobileFlex:!0,className:"mk-gap-4",children:[Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center",lineHeight:0,width:30,height:30,position:"relative"},children:[Object(w.jsx)(f.a,{style:{position:"absolute",left:-7.5,fontSize:25,transform:"rotate(90deg)"}}),Object(w.jsx)(f.a,{style:{position:"absolute",fontSize:25,transform:"rotate(90deg)"}})]}),Object(w.jsx)(u.a.Item,Object(o.a)(Object(o.a)({},n),{},{hidden:!0,name:[n.name,"order"],fieldKey:[n.fieldKey,"order"],rules:[{required:!0,message:"Please enter variant order"}],className:"w-100 m-0",initialValue:a,children:Object(w.jsx)(j.a,{})})),Object(w.jsx)(u.a.Item,Object(o.a)(Object(o.a)({},n),{},{name:[n.name,"language_id"],fieldKey:[n.fieldKey,"language_id"],rules:[{required:!0,message:"Please enter variant Language"}],className:"w-100 m-0",children:Object(w.jsx)(b.a,{loading:c,children:A.map((function(e,n){var t,i;return Object(w.jsx)(b.a.Option,{value:Object(x.d)(e,["identifier"]),children:null!==(i=Object(x.d)(e,["data","display_name"]))&&void 0!==i?i:"-"},null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:n)}))})})),Object(w.jsxs)(O.a,{alignItems:"center",justifyContent:"between",mobileFlex:!0,className:"mk-gap-2",children:[e.length-1===a&&e.length<A.length&&Object(w.jsx)(m.a,{type:"primary",shape:"circle",size:"small",onClick:function(){t()},icon:Object(w.jsx)(h.a,{})}),Object(w.jsx)(m.a,{type:"primary",danger:!0,shape:"circle",size:"small",onClick:function(){i(n.name)},icon:Object(w.jsx)(p.a,{})})]})]})}))}},["language",n.name].join("-"))})),0===e.length&&Object(w.jsx)(m.a,{type:"dashed",className:"w-100",onClick:function(){t()},icon:Object(w.jsx)(h.a,{}),children:"Add Language"})]})}})}))}})})})})),V=t(699),L=t(710);n.default=Object(l.b)((function(e){return{}}))((function(){var e=Object(a.useState)(!1),n=Object(i.a)(e,2),t=n[0],l=n[1],o=u.a.useForm(),s=Object(i.a)(o,1)[0];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(c.a,{loading:!1,name:"Create",positionName:["General","Announcement","Grouping"],thumbnail:null,positionColor:"cyan",extra:Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(V.a,{permission:["admin"],theme:{type:"disabled",property:{message:"Access Denied"}},config:{type:"primary",size:"small",icon:Object(w.jsx)(L.a,{}),ghost:!0,loading:t,onClick:function(){l(!0),s.validateFields().then((function(e){var n={};Object.entries(e).map((function(t){var a=Object(i.a)(t,2),l=a[0],c=a[1];"language"===l?(c=Array.isArray(c)&&c.length>0?c.map((function(e){var n;return null!==(n=null===e||void 0===e?void 0:e.language_id)&&void 0!==n?n:""})):[],Reflect.set(n,l,c)):"audios"===l?(c=Array.isArray(c)&&c.length>0?c.map((function(e){var n,t;return null!==(n=null!==(t=null===e||void 0===e?void 0:e.slug)&&void 0!==t?t:null===e||void 0===e?void 0:e.name)&&void 0!==n?n:""})):[],Reflect.set(n,l,c)):Reflect.set(n,l,c),Reflect.set(e,l,c)})),new v.a({url:"/api/v1/announcement/create",body:e}).post().then((function(e){var n;A.b.info(null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:"-"),l(!1)})).catch((function(e){var n;A.b.error(null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:"Error: Failed"),l(!1)}))})).catch((function(e){var n;l(!1),A.b.error(null!==(n=null===e||void 0===e?void 0:e.message)&&void 0!==n?n:"Error: Failed")}))}},children:"Save"})})}),Object(w.jsx)("div",{style:{marginTop:90},children:Object(w.jsx)(r.a,{children:Object(w.jsx)(u.a,{form:s,initialValue:{language:[{order:0,language_id:null}]},layout:"vertical",children:Object(w.jsxs)(I.a,{gutter:24,children:[Object(w.jsx)(S.a,{xs:24,lg:14,children:Object(w.jsx)(C,{form:s})}),Object(w.jsxs)(S.a,{xs:24,lg:10,children:[Object(w.jsxs)(d.a,{bordered:!1,title:"General",children:[Object(w.jsx)(u.a.Item,{name:"identifier",label:"Identifier",rules:[{required:!0,message:"Can't be empty!"}],children:Object(w.jsx)(j.a,{})}),Object(w.jsx)(u.a.Item,{name:"title",label:"Title",rules:[{required:!0,message:"Can't be empty!"}],children:Object(w.jsx)(j.a,{})}),Object(w.jsx)(F.a,{name:"category_id",selectValue:["id"],selectLabel:["data","display_name"]})]}),Object(w.jsx)(z,{form:s})]})]})})})})]})}))}}]);
//# sourceMappingURL=37.de3e6339.chunk.js.map