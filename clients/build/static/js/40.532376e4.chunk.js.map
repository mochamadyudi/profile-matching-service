{"version":3,"sources":["history.js","auth/FetchInterceptor.js","views/auth-views/components/LoginForm.js","views/auth-views/authentication/login-1/index.js","views/auth-views/authentication/login/index.js"],"names":["history","service","axios","create","baseURL","API_BASE_URL","timeout","ENTRY_ROUTE","interceptors","request","use","config","jwtToken","localStorage","getItem","AUTH_TOKEN","headers","push","window","location","reload","error","notification","message","Promise","reject","response","data","notificationParam","status","description","removeItem","LoginForm","props","useHistory","otherSignIn","showForgetPassword","hideAuthMessage","onForgetPasswordClick","showLoading","extra","loading","showMessage","showAuthMessage","authenticated","token","redirect","allowRedirect","onLogin","values","test","email","ApiService","url","body","post","then","undefined","setItem","success","setTimeout","href","catch","err","useEffect","renderOtherSignIn","div","initial","opacity","marginBottom","animate","type","showIcon","layout","name","onFinish","Item","label","rules","required","prefix","MailOutlined","className","onClick","Password","LockOutlined","htmlType","block","defaultProps","mapDispatchToProps","connect","auth","LoginOne","useSelector","state","theme","currentTheme","justify","xs","sm","md","lg","src","alt","style","height","objectFit","to","Login"],"mappings":"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","file":"static/js/40.532376e4.chunk.js","sourcesContent":["import * as history from 'history';\n\nexport default history.createBrowserHistory();","import axios from 'axios'\nimport { API_BASE_URL } from 'configs/AppConfig'\nimport history from '../history'\nimport { AUTH_TOKEN } from 'redux/constants/Auth'\nimport { notification } from 'antd';\n\nconst service = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 60000\n})\n\n// Config\nconst ENTRY_ROUTE = '/auth/login'\nconst TOKEN_PAYLOAD_KEY = 'authorization'\nconst PUBLIC_REQUEST_KEY = 'public-request'\n\n// API Request interceptor\nservice.interceptors.request.use(config => {\n\tconst jwtToken = localStorage.getItem(AUTH_TOKEN)\n\t\n  if (jwtToken) {\n    config.headers[TOKEN_PAYLOAD_KEY] = jwtToken\n  }\n\n  if (!jwtToken && !config.headers[PUBLIC_REQUEST_KEY]) {\n\t\thistory.push(ENTRY_ROUTE)\n\t\twindow.location.reload();\n  }\n\n  return config\n}, error => {\n\t// Do something with request error here\n\tnotification.error({\n\t\tmessage: 'Error'\n\t})\n  Promise.reject(error)\n})\n\n// API respone interceptor\nservice.interceptors.response.use( (response) => {\n\treturn response.data\n}, (error) => {\n\n\tlet notificationParam = {\n\t\tmessage: ''\n\t}\n\t\n\t// Remove token and redirect \n\tif (error.response.status === 400 || error.response.status === 403) {\n\t\tnotificationParam.message = 'Authentication Fail'\n\t\tnotificationParam.description = 'Please login again'\n\t\tlocalStorage.removeItem(AUTH_TOKEN)\n\t\thistory.push(ENTRY_ROUTE)\n\t\twindow.location.reload();\n\t}\n\n\tif (error.response.status === 404) {\n\t\tnotificationParam.message = 'Not Found'\n\t}\n\n\tif (error.response.status === 500) {\n\t\tnotificationParam.message = 'Internal Server Error'\n\t}\n\t\n\tif (error.response.status === 508) {\n\t\tnotificationParam.message = 'Time Out'\n\t}\n\n\tnotification.error(notificationParam)\n\n\treturn Promise.reject(error);\n});\n\nexport default service","import React, { useEffect } from 'react';\nimport { connect } from \"react-redux\";\nimport {Button, Form, Input, Divider, Alert, message} from \"antd\";\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\nimport { GoogleSVG, FacebookSVG } from 'assets/svg/icon';\nimport CustomIcon from 'components/util-components/CustomIcon'\nimport {  \n\tshowLoading, \n\tshowAuthMessage, \n\thideAuthMessage,\n\tauthenticated\n} from 'redux/actions/Auth';\nimport JwtAuthService from 'services/JwtAuthService'\nimport { useHistory } from \"react-router-dom\";\nimport { motion } from \"framer-motion\"\nimport ApiService from \"../../../services/api.service\";\n\nexport const LoginForm = (props) => {\n\tlet history = useHistory();\n\n\tconst { \n\t\totherSignIn, \n\t\tshowForgetPassword, \n\t\thideAuthMessage,\n\t\tonForgetPasswordClick,\n\t\tshowLoading,\n\t\textra,\n\t\tloading,\n\t\tshowMessage,\n\t\tauthenticated,\n\t\tshowAuthMessage,\n\t\ttoken,\n\t\tredirect,\n\t\tallowRedirect\n\t} = props\n\n\tconst onLogin = async values => {\n\t\tshowLoading()\n\t\tconst fakeToken = 'fakeToken'\n\t\tshowLoading()\n\t\tlet email_regex = /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n\t\tif (email_regex.test(values?.email)) {\n\t\t\tawait new ApiService({\n\t\t\t\turl:`/api/v1/auth/signIn`,\n\t\t\t\tbody: values\n\t\t\t}).post()\n\t\t\t\t.then((response)=> {\n\t\t\t\t\tlet data = response?.data ?? undefined\n\n\t\t\t\t\tif(!response?.error){\n\t\t\t\t\t\tif(typeof(data?.token) !== 'undefined' && data?.token !== '' && data?.token !== null){\n\t\t\t\t\t\t\tlocalStorage.setItem('token', data?.token)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlocalStorage.removeItem('token')\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmessage.success(response?.message ?? \"Successfully!\")\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\twindow.location.href = '/'\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t}else{\n\t\t\t\t\t\tshowAuthMessage(response?.message)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err)=> {\n\t\t\t\t\tshowAuthMessage(err?.message)\n\t\t\t\t})\n\t\t}\n\t};\n\n\tconst onGoogleLogin = () => {\n\t\tshowLoading()\n\t}\n\n\tconst onFacebookLogin = () => {\n\t\tshowLoading()\n\t}\n\n\tuseEffect(() => {\n\t\tif (token !== null && allowRedirect) {\n\t\t\thistory.push(redirect)\n\t\t}\n\t\tif(showMessage) {\n\t\t\tsetTimeout(() => {\n\t\t\thideAuthMessage();\n\t\t}, 3000);\n\t\t}\n\t});\n\t\n\tconst renderOtherSignIn = (\n\t\t<div>\n\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<>\n\t\t\t<motion.div \n\t\t\t\tinitial={{ opacity: 0, marginBottom: 0 }} \n\t\t\t\tanimate={{ \n\t\t\t\t\topacity: showMessage ? 1 : 0,\n\t\t\t\t\tmarginBottom: showMessage ? 20 : 0 \n\t\t\t\t}}> \n\t\t\t\t<Alert type=\"error\" showIcon message={props?.message}></Alert>\n\t\t\t</motion.div>\n\t\t\t<Form \n\t\t\t\tlayout=\"vertical\" \n\t\t\t\tname=\"login-form\"\n\t\t\t\tonFinish={onLogin}\n\t\t\t>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"email\" \n\t\t\t\t\tlabel=\"Email\" \n\t\t\t\t\trules={[\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please input your email',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\ttype: 'email',\n\t\t\t\t\t\t\tmessage: 'Please enter a validate email!'\n\t\t\t\t\t\t}\n\t\t\t\t\t]}>\n\t\t\t\t\t<Input prefix={<MailOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"password\" \n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<div className={`${showForgetPassword? 'd-flex justify-content-between w-100 align-items-center' : ''}`}>\n\t\t\t\t\t\t\t<span>Password</span>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tshowForgetPassword && \n\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\tonClick={() => onForgetPasswordClick} \n\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer font-size-sm font-weight-normal text-muted\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tForget Password?\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t</div>\n\t\t\t\t\t} \n\t\t\t\t\trules={[\n\t\t\t\t\t\t{ \n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: 'Please input your password',\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block loading={loading}>\n\t\t\t\t\t\tSign In\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t\t{\n\t\t\t\t\totherSignIn ? renderOtherSignIn : null\n\t\t\t\t}\n\t\t\t\t{ extra }\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n\nLoginForm.propTypes = {\n\totherSignIn: PropTypes.bool,\n\tshowForgetPassword: PropTypes.bool,\n\textra: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.element\n\t]),\n};\n\nLoginForm.defaultProps = {\n\totherSignIn: true,\n\tshowForgetPassword: false\n};\n\nconst mapStateToProps = ({auth}) => {\n\tconst {loading, message, showMessage, token, redirect} = auth;\n  \treturn {loading, message, showMessage, token, redirect}\n}\n\nconst mapDispatchToProps = {\n\tshowAuthMessage,\n\tshowLoading,\n\thideAuthMessage,\n\tauthenticated\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm)\n","import React from 'react'\nimport LoginForm from '../../components/LoginForm'\nimport { Card, Row, Col } from \"antd\";\nimport { useSelector } from 'react-redux';\nimport {Link} from \"react-router-dom\";\n\n\nconst LoginOne = props => {\n\tconst theme = useSelector(state => state.theme.currentTheme)\n\treturn (\n\t\t<div className=\"h-100\">\n\t\t\t<div className=\"container d-flex flex-column justify-content-center h-100\">\n\t\t\t\t<Row justify=\"center\">\n\t\t\t\t\t<Col xs={20} sm={20} md={20} lg={7}>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<div className=\"my-4\">\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tclassName=\"fluid mb-3\"\n\t\t\t\t\t\t\t\t\t\tsrc={`/${theme === 'light' ? 'logo.png': 'logo.png'}`} alt=\"logo-fids-notifbox\"\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\theight:'26px',\n\t\t\t\t\t\t\t\t\t\t\tobjectFit:\"contain\"\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Row justify=\"center\">\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={20} lg={20}>\n\t\t\t\t\t\t\t\t\t\t<LoginForm {...props} extra={\n\t\t\t\t\t\t\t\t\t\t\t<div className={'text-right'}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/auth/register'}>Sign Up</Link>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}/>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default LoginOne\n","import React from 'react'\nimport LoginOne from '../login-1'\n\nconst Login = () => {\n\treturn (\n\t\t<LoginOne allowRedirect={true} />\n\t)\n}\n\nexport default Login\n"],"sourceRoot":""}