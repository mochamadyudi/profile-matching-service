(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[5],{746:function(e,t,a){"use strict";a.r(t),a.d(t,"EditProfile",(function(){return E}));var s=a(15),n=a(16),i=a(21),c=a(22),r=a(1),l=a(5),d=a(0),m=a(408),j=a(639),o=a(651),b=a(133),u=a(717),h=a(3),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},O=a(23),f=function(e,t){return d.createElement(O.a,Object(h.a)({},e,{ref:t,icon:x}))};var p=d.forwardRef(f),v=a(35),g=a(123),y=a(19),N=a(709),w=a(825),F=a(89),I=a(657),U=a(134),C=a(86),S=a(402),k=a(61),P=a(2);function B(e){var t=this,a=Object(d.useState)("/img/avatars/thumb-6.jpg"),s=Object(l.a)(a,2),n=s[0],i=s[1];return Object(P.jsxs)(g.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(P.jsx)(j.a,{size:90,src:n,icon:Object(P.jsx)(p,{})}),Object(P.jsxs)("div",{className:"ml-3 mt-md-0 mt-3 d-flex",children:[Object(P.jsx)(w.a,{onChange:function(e){var a="updatable";"uploading"!==e.file.status?"done"===e.file.status&&(t.getBase64(e.file.originFileObj,(function(e){return t.setState({avatarUrl:e})})),m.b.success({content:"Uploaded!",key:a,duration:1.5})):m.b.loading({content:"Uploading...",key:a,duration:1e3})},showUploadList:!1,children:Object(P.jsx)(F.a,{type:"primary",children:"Change Avatar"})}),Object(P.jsx)(F.a,{className:"ml-2",onClick:function(){i(null)},children:"Remove"})]})]})}function A(e){e.isAuthenticated;var t,a=e.profile,s=e.ProfileUpdate,n=Object(d.useState)(!1),i=Object(l.a)(n,2),c=(i[0],i[1],I.a.useForm()),m=Object(l.a)(c,1)[0];return Object(d.useEffect)((function(){m.resetFields()}),[]),console.log({profile:a}),Object(P.jsx)(I.a,{name:"basicInformation",layout:"vertical",form:m,initialValues:a?Object(r.a)({},a):{},onFinish:function(){m.validateFields().then((function(e){s(Object(r.a)({},e))})).catch((function(e){console.log({err:e})}))},onFinishFailed:function(){},children:Object(P.jsx)(U.a,{children:Object(P.jsxs)(C.a,{xs:24,sm:24,md:24,lg:16,children:[Object(P.jsxs)(U.a,{gutter:v.e,children:[Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"First Name",name:"first_name",rules:[{required:!0,message:"Please input your first name!"}],children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Last Name",name:"last_name",rules:[{required:!0,message:"Please input your name!"}],children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(P.jsx)(S.a,{})})})]}),Object(P.jsx)(F.a,{type:"primary",htmlType:"submit",loading:null!==(t=null===a||void 0===a?void 0:a.loading)&&void 0!==t&&t,children:"Save Change"})]})})})}var E=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",e.state={avatarUrl:"/img/avatars/thumb-6.jpg",name:"Charlie Howard",email:"charlie.howard@themenate.com",userName:"Charlie",dateOfBirth:null,phoneNumber:"+44 (1532) 135 7921",website:"",address:"",city:"",postcode:""},e}return Object(n.a)(a,[{key:"getBase64",value:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,s=t.email,n=t.userName,i=t.dateOfBirth,c=t.phoneNumber,r=t.website,l=t.address,d=t.city,o=t.postcode,b=t.avatarUrl;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(g.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(P.jsx)(j.a,{size:90,src:b,icon:Object(P.jsx)(p,{})}),Object(P.jsxs)("div",{className:"ml-3 mt-md-0 mt-3 d-flex",children:[Object(P.jsx)(w.a,{onChange:function(t){var a="updatable";"uploading"!==t.file.status?"done"===t.file.status&&(e.getBase64(t.file.originFileObj,(function(t){return e.setState({avatarUrl:t})})),m.b.success({content:"Uploaded!",key:a,duration:1.5})):m.b.loading({content:"Uploading...",key:a,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(P.jsx)(F.a,{type:"primary",children:"Change Avatar"})}),Object(P.jsx)(F.a,{className:"ml-2",onClick:function(){e.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(P.jsx)("div",{className:"mt-4",children:Object(P.jsx)(I.a,{name:"basicInformation",layout:"vertical",initialValues:{name:a,email:s,username:n,dateOfBirth:i,phoneNumber:c,website:r,address:l,city:d,postcode:o},onFinish:function(t){var a="updatable";m.b.loading({content:"Updating...",key:a}),setTimeout((function(){e.setState({name:t.name,email:t.email,userName:t.userName,dateOfBirth:t.dateOfBirth,phoneNumber:t.phoneNumber,website:t.website,address:t.address,city:t.city,postcode:t.postcode}),m.b.success({content:"Done!",key:a,duration:2})}),1e3)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(P.jsx)(U.a,{children:Object(P.jsxs)(C.a,{xs:24,sm:24,md:24,lg:16,children:[Object(P.jsxs)(U.a,{gutter:v.e,children:[Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Date of Birth",name:"dateOfBirth",children:Object(P.jsx)(u.a,{className:"w-100"})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Website",name:"website",children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:24,children:Object(P.jsx)(I.a.Item,{label:"Address",name:"address",children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"City",name:"city",children:Object(P.jsx)(S.a,{})})}),Object(P.jsx)(C.a,{xs:24,sm:24,md:12,children:Object(P.jsx)(I.a.Item,{label:"Post code",name:"postcode",children:Object(P.jsx)(S.a,{})})})]}),Object(P.jsx)(F.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})})]})}}]),a}(d.Component);t.default=Object(y.b)((function(e){var t=e.auth;return{isAuthenticated:t.isAuthenticated,profile:t.profile}}),{ProfileUpdate:k.b})((function(e){var t=e.profile,a=e.isAuthenticated;return Object(P.jsxs)(N.a,{positionName:["Settings"],name:"Edit Profile",children:[Object(P.jsx)(B,{}),Object(P.jsx)(o.a,{}),a&&t?Object(P.jsx)(A,Object(r.a)({},e)):Object(P.jsx)(b.a,{})]})}))}}]);
//# sourceMappingURL=5.9e83af44.chunk.js.map