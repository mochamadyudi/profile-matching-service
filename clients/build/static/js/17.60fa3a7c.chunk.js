(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[17],{699:function(e,t,i){"use strict";var n=i(1),l=i(0),a=i.n(l),c=i(19),r=i(700),d=i(89),o=i(409),u=i(2);function s(e){var t,i=e.visible,l=e.config;return i?Object(u.jsx)(d.a,Object(n.a)(Object(n.a)({},l),{},{className:"btn-master",children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null})):null}function v(e){var t,i,l,a=e.theme,c=e.config;switch(null===a||void 0===a?void 0:a.type){case"visible":return Object(u.jsx)(s,{visible:!0,config:Object(n.a)({},c),children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null});case"disabled":return Object(u.jsx)(s,{visible:!0,config:Object(n.a)(Object(n.a)({},c),{},{disabled:!0}),children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null});case"notification":return Object(u.jsx)(s,{visible:!0,config:Object(n.a)(Object(n.a)({},c),{},{onClick:function(){var t,i,n,l,a,c,r,d,u;o.a.open({message:null!==(t=null===e||void 0===e||null===(i=e.theme)||void 0===i||null===(n=i.property)||void 0===n?void 0:n.message)&&void 0!==t?t:"Access Denied",description:null!==(l=null===e||void 0===e||null===(a=e.theme)||void 0===a||null===(c=a.property)||void 0===c?void 0:c.description)&&void 0!==l?l:"Anda Tidak dapat Melakukan aksi",duration:null!==(r=null===e||void 0===e||null===(d=e.theme)||void 0===d||null===(u=d.property)||void 0===u?void 0:u.duration)&&void 0!==r?r:0})}}),children:null!==(l=null===e||void 0===e?void 0:e.children)&&void 0!==l?l:null});default:return null}}function b(e){var t,i,l=e.permission,a=e.role,c=e.config,r=e.theme;return l?"string"===typeof l&&l===a?Object(u.jsx)(s,{visible:!0,config:c,children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null}):Array.isArray(l)&&l.filter((function(e){return e===a})).length>0?Object(u.jsx)(s,{visible:!0,config:c,children:null!==(i=null===e||void 0===e?void 0:e.children)&&void 0!==i?i:null}):Object(u.jsx)(v,Object(n.a)(Object(n.a)({},e),{},{theme:r})):Object(u.jsx)(v,Object(n.a)(Object(n.a)({},e),{},{theme:r}))}b.defaultProps={role:"admin",theme:{type:"element",property:{}},permission:r.a,config:{block:!1,danger:!1,disabled:!1,ghost:!1,href:null,icon:null,loading:!1,shape:"default",size:"large",target:null,type:"default",onClick:function(){}}},t.a=Object(c.b)((function(){return{}}),{})(a.a.memo(b))},700:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=["admin","operator","public","guest"]},701:function(e,t,i){"use strict";t.a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"}},704:function(e,t,i){"use strict";var n=i(1),l=i(5),a=i(0),c=i(19),r=i(657),d=i(132),o=i(201),u=i(702),s=i(703),v=i(38),b=i(2);t.a=Object(c.b)((function(e){return{list:e.MasterData.airlines_type.list}}),{GET_LIST_MD_AIRLINES_TYPE:s.d})((function(e){var t,i,c,s,j,m,f=e.list,O=e.GET_LIST_MD_AIRLINES_TYPE,h=e.initialValue,p=void 0===h?null:h,g=e.keyValue,x=void 0===g?["id"]:g,y=e.keyDisplay,k=void 0===y?["data","name"]:y,S=Object(a.useState)({page:1,limit:50}),_=Object(l.a)(S,2),w=_[0];return _[1],Object(a.useEffect)((function(){O({query:w})}),[O,w]),Object(b.jsx)(r.a.Item,{initialValue:null!==p&&void 0!==p?p:null,hasFeedback:!0,name:null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"type",label:null!==(i=null===e||void 0===e?void 0:e.label)&&void 0!==i?i:"Type",rules:null!==(c=null===e||void 0===e?void 0:e.rules)&&void 0!==c?c:[],children:Object(b.jsx)(d.a,Object(n.a)(Object(n.a)({},null===e||void 0===e?void 0:e.select),{},{loading:null!==(s=null===f||void 0===f?void 0:f.loading)&&void 0!==s&&s,showSearch:null!==(j=null===e||void 0===e||null===(m=e.select)||void 0===m?void 0:m.showSearch)&&void 0!==j&&j,notFoundContent:Object(b.jsx)(o.a,{size:"small"}),children:"function"===typeof(null===e||void 0===e?void 0:e.mapping)?null===e||void 0===e?void 0:e.mapping({data:null===f||void 0===f?void 0:f.data}):(null===f||void 0===f?void 0:f.data)&&Object(u.a)(null===f||void 0===f?void 0:f.data)&&(null===f||void 0===f?void 0:f.data.map((function(t,i){return null!==e&&void 0!==e&&e.children?"function"===typeof(null===e||void 0===e?void 0:e.children)?null===e||void 0===e?void 0:e.children({item:t,index:i}):null:Object(b.jsx)(d.a.Option,{value:Object(v.d)(t,null!==x&&void 0!==x?x:["id"]),children:Object(v.d)(t,null!==k&&void 0!==k?k:["data","name"])},Object(v.d)(t,null!==x&&void 0!==x?x:["id"]))})))}))})}))},707:function(e,t,i){"use strict";var n=i(3),l=i(0),a=i(701),c=i(23),r=function(e,t){return l.createElement(c.a,Object(n.a)({},e,{ref:t,icon:a.a}))};t.a=l.forwardRef(r)},708:function(e,t,i){"use strict";var n=i(5),l=i(0),a=i(314),c=i(827),r=i(58),d=i(186),o=i(2),u=a.a.TabPane;function s(e){var t=e.tab,i=e.paramsKey,s=e.mode,v=e.defaultTab,b=Object(r.h)(),j=Object(l.useState)((function(){var e,n,l=new URLSearchParams(b.search).get(null!==i&&void 0!==i?i:"tab");return l?null===(e=l.toString())||void 0===e?void 0:e.toLowerCase():v||(null!==(n=Object(d.first)(t).key)&&void 0!==n?n:"detail")})),m=Object(n.a)(j,2),f=m[0],O=m[1];function h(e){O(e),function(e){if(window){var t=new URLSearchParams(window.location.search);t.get(null!==i&&void 0!==i?i:"tab")?(t.delete(null!==i&&void 0!==i?i:"tab"),t.append(null!==i&&void 0!==i?i:"tab",e)):t.append(null!==i&&void 0!==i?i:"tab",e);var n=[];t.forEach((function(e,t){n.push("".concat(t,"=").concat(e))}));var l=[window.origin,b.pathname].join("");window.history.pushState({article:"read-all"},"Read All Article",[l,n.join("&")].join("?"))}}(e)}return Object(o.jsx)(a.a,{mode:null!==s&&void 0!==s?s:"top",defaultActiveKey:"".concat(f),activeKey:"".concat(f),style:{marginTop:30},onChange:h,className:"container",children:Array.isArray(t)&&t.length>0&&t.map((function(e,t){return Object(o.jsx)(u,{tab:Object(o.jsx)(c.a.Text,{className:"!mk-text-xs",children:null===e||void 0===e?void 0:e.title}),c:!0,children:"function"===typeof(null===e||void 0===e?void 0:e.render)?null===e||void 0===e?void 0:e.render({current:f,onChange:h}):null},"".concat(null===e||void 0===e?void 0:e.key))}))})}s.defaultProps={paramsKey:"tab",defaultTab:null,mode:"top"},t.a=s},711:function(e,t,i){"use strict";var n=i(3),l=i(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},c=i(23),r=function(e,t){return l.createElement(c.a,Object(n.a)({},e,{ref:t,icon:a}))};t.a=l.forwardRef(r)},714:function(e,t,i){"use strict";var n=i(0),l=i.n(n),a=i(19),c=i(2);function r(e){var t=e.title,i=e.description;return Object(c.jsxs)("div",{className:"w-full",children:[Object(c.jsx)("span",{children:t}),Object(c.jsx)("span",{children:i})]})}r.defaultProps={title:"Access Denied",description:"Anda tidak dapat mengakses component ini"};var d=r,o=i(318),u=i(700);function s(e){var t,i=e.permission,n=e.role,l=e.extra;return i?"string"===typeof i?i!==n?null:l||Object(c.jsx)(d,{title:"Access Denied"}):Array.isArray(i)&&i.length>0?i.filter((function(e){return e===n})).length>0?Object(c.jsx)(o.a,{children:null!==(t=null===e||void 0===e?void 0:e.children)&&void 0!==t?t:null}):l||Object(c.jsx)(d,{title:"Access Denied"}):null:null}s.defaultProps={role:"admin",permission:u.a,extra:null};t.a=Object(a.b)((function(){return{}}),{})(l.a.memo(s))},718:function(e,t,i){"use strict";i(0);var n=i(259),l=i(121),a=i(726),c=i(2),r=function(e){return Object(c.jsx)(n.a,{overlay:e.menu,placement:e.placement,trigger:["click"],children:Object(c.jsx)("div",{className:"ellipsis-dropdown",children:Object(c.jsx)(a.a,{})})})};r.defaultProps={trigger:"click",placement:"bottomRight",menu:Object(c.jsx)(l.a,{})},t.a=r},722:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n="CUSTOM_EVENT"},726:function(e,t,i){"use strict";var n=i(3),l=i(0),a=i(317),c=i(23),r=function(e,t){return l.createElement(c.a,Object(n.a)({},e,{ref:t,icon:a.a}))};t.a=l.forwardRef(r)},732:function(e,t,i){"use strict";var n=i(9),l=i(1),a=i(5),c=i(0),r=i(19),d=i(657),o=i(134),u=i(86),s=i(717),v=i(132),b=i(639),j=i(402),m=i(704),f=i(705),O=i(706),h=i(38),p=i(712),g=i(185),x=i.n(g),y=i(123),k=i(2);t.a=Object(r.b)((function(e){return{}}))((function(e){var t,i,r,g,S,_,w,I,A=e.form,V=e.initialValue,C=Object(c.useState)(null),T=Object(a.a)(C,2),H=T[0],D=T[1];return Object(k.jsx)("div",{children:Object(k.jsxs)(d.a,{form:A,layout:"vertical",initialValue:Object(l.a)({},V),children:[Object(k.jsxs)(o.a,{gutter:24,children:[Object(k.jsx)(u.a,{span:16,children:Object(k.jsx)(d.a.Item,{initialValue:null!==V&&void 0!==V&&V.date&&x()(null===V||void 0===V?void 0:V.date).isValid()?x()(null===V||void 0===V?void 0:V.date):null,hasFeedback:!0,name:"date",label:"Date",rules:[{required:!0,message:"Can't be empty!"}],children:Object(k.jsx)(s.a,{format:"DD/MM/YYYY",style:{width:"100%"},placeholder:"Select Date"})})}),Object(k.jsx)(u.a,{span:8,children:Object(k.jsx)(m.a,{name:"type",label:"Type",keyValue:["data","identifier"],keyDisplay:["data","name"],select:{showSearch:!0,placeholder:"Select your type"},mapping:function(e){var t=e.data,i=Object(h.b)(t,["data","name"],"ARR"),l=Object(h.b)(t,["data","name"],"DEPA");return[].concat(Object(n.a)(i),Object(n.a)(l)).map((function(e,t){var i;return Object(k.jsx)(v.a.Option,{value:null===e||void 0===e?void 0:e.identifier,children:null!==(i=Object(h.d)(e,["data","name"]))&&void 0!==i?i:"undefined"},null===e||void 0===e?void 0:e.id)}))},initialValue:null!==(t=null===V||void 0===V?void 0:V.type)&&void 0!==t?t:null,rules:[{required:!0,message:"Can't be empty!"}]})}),Object(k.jsx)(u.a,{span:12,children:Object(k.jsx)(f.a,{name:"airline_id",label:"Airlines",keyValue:["id"],keyDisplay:["data","name"],select:{onChange:function(e,t){D(t),A.setFieldsValue({airline_id:e})},placeholder:"Select Airlines"},initialValue:null!==(i=null===V||void 0===V?void 0:V.airline_id)&&void 0!==i?i:null,rules:[{required:!0,message:"Can't be empty!"}],children:function(e){var t,i,n,a=e.item,c=e.index;return Object(k.jsx)(v.a.Option,Object(l.a)(Object(l.a)({value:null===a||void 0===a?void 0:a.id},a),{},{children:Object(k.jsxs)(y.a,{alignItems:"center",className:"h-full mk-gap-2",children:[Object(k.jsx)(b.a,{src:["http://68.183.234.66:5008",null===a||void 0===a||null===(t=a.data)||void 0===t||null===(i=t.image)||void 0===i?void 0:i.dark].join(""),size:30}),Object(k.jsx)("span",{children:[Object(h.d)(a,["data","name"]),null!==(n="(".concat(Object(h.d)(a,["data","code"]),")"))&&void 0!==n?n:""].join(" ")})]})}),"airlines-select-".concat(c))}})}),Object(k.jsx)(u.a,{span:12,children:Object(k.jsx)(d.a.Item,{initialValue:null!==(r=null===V||void 0===V?void 0:V.flight_no)&&void 0!==r?r:null,name:"flight_no",label:"Flight Number",rules:[{required:!0,message:"Can't be empty"},function(e){var t=e.getFieldValue;return{validator:function(e,i){return t("airline_id")?Promise.resolve():Promise.reject("please select the airline first!")}}}],children:Object(k.jsx)(j.a,{addonBefore:H&&null!==(g=null===H||void 0===H||null===(S=H.data)||void 0===S?void 0:S.code)&&void 0!==g?g:"-",placeholder:"Enter a flight number | e.g 100"})})}),Object(k.jsx)(u.a,{span:12,children:Object(k.jsx)(O.a,{name:"origin_id",label:"From / To",keyValue:["id"],displayValue:["data","name"],initialValue:null!==(_=null===V||void 0===V?void 0:V.origin_id)&&void 0!==_?_:null,select:{placeholder:"Select city from / to"},rules:[{required:!0,message:"Can't be empty!"}]})}),Object(k.jsx)(u.a,{span:6,children:Object(k.jsx)(d.a.Item,{hasFeedback:!0,name:"schedule_time",label:"Schedule",rules:[{required:!0,message:"Can't be empty!"}],initialValue:null!==V&&void 0!==V&&V.schedule_time&&x()(null===V||void 0===V?void 0:V.schedule_time,"HH:mm").isValid()?x()(null===V||void 0===V?void 0:V.schedule_time,"HH:mm"):null,children:Object(k.jsx)(s.a.TimePicker,{format:"HH:mm",disabledMinutes:function(){return h.c.disableMinutes([0],60)},style:{width:"100%"},placeholder:"Select schedule time"})})}),Object(k.jsx)(u.a,{span:6,children:Object(k.jsx)(d.a.Item,{hasFeedback:!0,name:"actual_time",label:"Actual",initialValue:null!==V&&void 0!==V&&V.actual_time&&x()(null===V||void 0===V?void 0:V.actual_time,"HH:mm").isValid()?x()(null===V||void 0===V?void 0:V.actual_time,"HH:mm"):null,children:Object(k.jsx)(s.a.TimePicker,{format:"HH:mm",disabledMinutes:function(){return h.c.disableMinutes([0],60)},style:{width:"100%"},placeholder:"Select Actual Time"})})}),Object(k.jsx)(u.a,{span:12,children:Object(k.jsx)(p.a,{name:"status",label:"Status",initialValue:null!==(w=null===V||void 0===V?void 0:V.status)&&void 0!==w?w:null,select:{placeholder:"Select your Statuse"},rules:[{required:!0,message:"Can't be empty!"}]})}),Object(k.jsx)(u.a,{xs:24,lg:24,children:Object(k.jsx)(d.a.Item,{initialValue:null!==(I=null===V||void 0===V?void 0:V.remarks)&&void 0!==I?I:null,hasFeedback:!0,name:"remarks",label:"Remarks",rules:[{required:!1,message:"Can't be empty!"}],children:Object(k.jsx)(j.a.TextArea,{allowClear:!0,placeholder:"input your remarks (optional)",showCount:!0,autoSize:{minRows:4,maxRows:6},size:"small"})})})]}),null===e||void 0===e?void 0:e.children]})})}))},747:function(e,t,i){"use strict";var n=i(3),l=i(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},c=i(23),r=function(e,t){return l.createElement(c.a,Object(n.a)({},e,{ref:t,icon:a}))};t.a=l.forwardRef(r)},828:function(e,t,i){"use strict";i.r(t);var n=i(9),l=i(1),a=i(5),c=i(0),r=i.n(c),d=i(19),o=i(58),u=i(697),s=i(708),v=i(121),b=i(651),j=i(408),m=i(657),f=i(116),O=i(89),h=i(662),p=i(132),g=i(638),x=i(640),y=i(656),k=i(57),S=i(123),_=i(652),w=i(747),I=i(711),A=i(674),V=i(38),C=i(714),T=i(718),H=i(185),D=i.n(H),E=i(732),F=i(163),N=i(722),R=i(126),M=i(2);var z=Object(d.b)((function(e){return{}}),{SocketSend:R.c})((function(e){var t,i,d=e.type,o=e.SocketSend,u=[{visible:!0,key:"date",dataIndex:"date",title:"Date",render:function(e){return D()(e).isValid()?D()(e).format("YYYY/MM/DD"):"-"}},{visible:!0,key:"type",dataIndex:"type",title:"Type"},{visible:!0,key:"airline",dataIndex:"airline",title:"Airlines",render:function(e){var t,i;return null!==(t=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.name)&&void 0!==t?t:"-"}},{visible:!0,key:"flight_no",dataIndex:"flight_no",title:"Flight No"},{visible:!0,key:"origin",dataIndex:"origin",title:"From / To",render:function(e){var t,i;return null!==(t=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.name)&&void 0!==t?t:"-"}},{visible:!0,key:"schedule_time",dataIndex:"schedule_time",title:"Schedule Time",render:function(e){return""!==e?e:"-"}},{visible:!0,key:"actual_time",dataIndex:"actual_time",title:"Actual Time",render:function(e){return""!==e?e:"-"}},{visible:!0,key:"status",dataIndex:"status",title:"Status"},{visible:!0,key:"action",dataIndex:"id",width:80,render:function(e,t,i){return Object(M.jsx)("div",{className:"text-right",children:Object(M.jsx)(T.a,{menu:Object(M.jsxs)(v.a,{children:[Object(M.jsx)(C.a,{extra:Object(M.jsx)(M.Fragment,{}),permission:["public","admin"],children:Object(M.jsx)(v.a.Item,{onClick:function(){return me(t)},children:Object(M.jsxs)(S.a,{alignItems:"center",children:[Object(M.jsx)(_.a,{}),Object(M.jsx)("span",{className:"ml-2",children:"Edit"})]})})}),Object(M.jsxs)(C.a,{extra:Object(M.jsx)(M.Fragment,{}),permission:["admin"],children:[Object(M.jsx)(b.a,{className:"my-0"}),Object(M.jsx)(v.a.Item,{onClick:function(){return t=e,void new k.a({url:"/api/v1/flight/".concat(t)}).delete().then((function(e){var t;null!==e&&void 0!==e&&e.success?(j.b.success(null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:""),je()):j.b.info(null===e||void 0===e?void 0:e.message)})).catch((function(e){var t;j.b.error(null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"Some Error")}));var t},children:Object(M.jsxs)(S.a,{alignItems:"center",children:[Object(M.jsx)(w.a,{}),Object(M.jsx)("span",{className:"ml-2",children:"Delete"})]})})]})]})})})}}],s=m.a.useForm(),H=Object(a.a)(s,1)[0],R=Object(c.useState)(!1),z=Object(a.a)(R,2),P=z[0],Y=z[1],q=Object(c.useState)(null),L=Object(a.a)(q,2),K=L[0],B=L[1],J=Object(c.useState)(!1),U=Object(a.a)(J,2),G=U[0],Q=U[1],W=Object(c.useState)(!1),X=Object(a.a)(W,2),Z=(X[0],X[1]),$=Object(c.useState)(!1),ee=Object(a.a)($,2),te=ee[0],ie=ee[1],ne=Object(c.useState)({page:1,limit:10}),le=Object(a.a)(ne,2),ae=le[0],ce=(le[1],Object(c.useState)({page:1,limit:10})),re=Object(a.a)(ce,2),de=re[0],oe=re[1],ue=Object(c.useState)([]),se=Object(a.a)(ue,2),ve=se[0],be=se[1];function je(){ie(!0),new k.a({url:"/api/v1/flight/".concat(d),config:{params:Object(l.a)({},ae)}}).get().then((function(e){oe(Object(l.a)(Object(l.a)({},de),null===e||void 0===e?void 0:e.pagination)),be(Object(n.a)(null===e||void 0===e?void 0:e.data)),ie(!1)})).catch((function(e){be([]),ie(!1)}))}Object(c.useEffect)((function(){d&&je()}),[d]);var me=function(e){B(e),Y(!0)},fe=function(e){Q(e)};Object(c.useEffect)((function(){H.resetFields()}),[P]);var Oe=Object(c.useState)(u),he=Object(a.a)(Oe,2),pe=he[0],ge=he[1],xe=Object(M.jsxs)("div",{className:"text-right d-flex mk-gap-2",children:[Object(M.jsx)(f.a,{title:"Reload Data",children:Object(M.jsx)(O.a,{icon:Object(M.jsx)(I.a,{}),ghost:!0,type:"primary",onClick:je,loading:te,size:"small"})}),Object(M.jsx)(f.a,{title:"Settings",children:Object(M.jsx)(O.a,{icon:Object(M.jsx)(A.a,{}),type:"primary",ghost:!0,onClick:function(){return fe(!0)},size:"small"})})]});return Object(M.jsxs)(r.a.Fragment,{children:[Object(M.jsx)(h.a,{title:"".concat(null===e||void 0===e?void 0:e.title," Setting"),placement:"right",closable:!0,className:"!mk-capitalize",onClose:function(){return fe(!1)},visible:G,children:Object(M.jsxs)("div",{className:"w-100",children:[Object(M.jsx)("h5",{children:"Table Column"}),Object(M.jsx)(p.a,{onChange:function(e){ge((function(){return u.filter((function(t){return e.includes(t.key)})).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{visible:!0})}))}))},mode:"tags",className:"w-100",placeholder:"Select Columns Active",defaultValue:null!==(t=u.filter((function(e){return!0===e.visible})).map((function(e){return null===e||void 0===e?void 0:e.key})))&&void 0!==t?t:[],children:u.map((function(e){return Object(M.jsx)(p.a.Option,{value:e.key,children:"".concat(e.key).replace(/_/g," ")},e.key)}))}),Object(M.jsx)(b.a,{})]})}),Object(M.jsx)(g.a,{visible:P,onCancel:function(){H.resetFields(),Y(!1)},onOk:function(){Z(!0),j.b.loading({key:"create-display-system",content:Object(M.jsx)(F.a,{text:"Loading",dots:3,speed:300}),duration:5}),H.validateFields().then((function(e){var t={};Object.entries(e).map((function(e){var i=Object(a.a)(e,2),n=i[0],l=i[1];switch(n){case"date":Reflect.set(t,n,D()(l).format("YYYY-MM-DD"));break;case"schedule_time":case"actual_time":l?Reflect.set(t,n,D()(l).format("HH:mm")):Reflect.set(t,n,null);break;default:Reflect.set(t,n,l)}})),t&&"object"===typeof t&&Object.keys(t).length>0&&new k.a({url:"/api/v1/flight/".concat(null===K||void 0===K?void 0:K.id),body:t}).patch().then((function(i){var n,c;null!==i&&void 0!==i&&i.success?(j.b.success({key:"create-display-system",content:null!==(n=null===i||void 0===i?void 0:i.message)&&void 0!==n?n:"Successfully! save to database",duration:5}),o(JSON.stringify({from:V.c.getUserId,to:null===t||void 0===t?void 0:t.type,event:N.a,type:"update_event",room:null===t||void 0===t?void 0:t.type,message:N.a,data:Object(l.a)(Object(l.a)({},null===i||void 0===i?void 0:i.data),{},{id:null===K||void 0===K?void 0:K.id})}))):j.b.error({key:"create-display-system",content:null!==(c=null===i||void 0===i?void 0:i.message)&&void 0!==c?c:"Error: fail to database",duration:5});var r=ve.findIndex((function(e){return(null===e||void 0===e?void 0:e.id)===(null===K||void 0===K?void 0:K.id)}));r>=0&&(Object.entries(e).map((function(e){var t=Object(a.a)(e,2),i=t[0],n=t[1];switch(i){case"date":case"actual_time":case"schedule_time":break;default:ve[r][i]=n}})),console.log({data:ve[r]}))})).catch((function(e){var t;j.b.error({key:"create-display-system",content:null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"Error: fail to database",duration:5})})),Z(!1)})).catch((function(e){var t;j.b.error({key:"create-display-system",content:null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:"Some Error Field",duration:5}),Z(!1)}))},closable:!1,children:Object(M.jsx)(E.a,{form:H,initialValue:Object(l.a)({},K)})}),Object(M.jsx)(x.a,{bordered:!1,title:null!==(i=null===e||void 0===e?void 0:e.title)&&void 0!==i?i:null,extra:xe,children:Object(M.jsx)(y.a,{rowKey:"id",loading:te,dataSource:ve,columns:pe.filter((function(e){return!0===e.visible}))})})]})})),P=i(698),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.root,l=t.rootMargin,a=t.threshold,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],d=Object(c.useRef)(null),o=Object(c.useRef)(null);return Object(c.useCallback)((function(t){d.current&&o.current&&(o.current.unobserve(d.current),o.current.disconnect(),o.current=null),t&&(o.current=new IntersectionObserver(e,{root:i,rootMargin:l,threshold:a}),o.current.observe(t),d.current=t)}),[d,i,l,JSON.stringify(a)].concat(Object(n.a)(r)))};var q=function(e){var t=Object(c.useState)(!1),i=Object(a.a)(t,2),n=i[0],r=i[1],d=Y((function(e,t){var i=Object(a.a)(e,1)[0];console.log(i.isIntersecting,"entry.isIntersecting"),i.isIntersecting&&t.unobserve(i.target),r(i.isIntersecting)}),{threshold:1});return Object(M.jsx)("div",Object(l.a)(Object(l.a)({ref:d},e),{},{children:n?"function"===typeof e.children?e.children({isVisible:n}):e.children:""}))},L=i(699),K=i(644),B=i(11),J=i(114),U=i(707),G=i(696),Q=["type"];var W=Object(d.b)((function(e){return{}}))((function(e){var t,i=e.type,d=(Object(B.a)(e,Q),Object(o.g)(),Object(c.useState)(!0)),u=Object(a.a)(d,2),s=u[0],v=u[1],b=Object(c.useState)({page:1,limit:20}),f=Object(a.a)(b,2),h=f[0],p=f[1],g=Object(c.useState)({page:1,limit:10}),S=Object(a.a)(g,2),_=S[0],w=S[1],I=Object(c.useState)([]),A=Object(a.a)(I,2),V=A[0],C=A[1],T=[{visible:!0,key:"no",title:"No",dataIndex:"id",width:70,render:function(e,t,i){return i+1+(null===h||void 0===h?void 0:h.limit)*((null===h||void 0===h?void 0:h.page)-1)}},{visible:!0,key:"display_name",dataIndex:["data","name"],title:"Display Name",render:function(e){return null!==e&&void 0!==e?e:"-"}},{visible:!0,key:"Airlines",dataIndex:["data","airline","name"],title:"Airline",render:function(e){return null!==e&&void 0!==e?e:"-"}},{visible:!0,key:"flight_no",dataIndex:["data","flight_no"],title:"Flight No",render:function(e){return null!==e&&void 0!==e?e:"-"}},{visible:!0,key:"to-or-from",dataIndex:["data","city","name"],title:"To / From",render:function(e){return null!==e&&void 0!==e?e:"-"}},{visible:!0,key:"start_time",dataIndex:["data","start_time"],title:"Start Time",render:function(e){return D()(e).isValid()?D()(e).format("HH:mm"):e}},{visible:!0,key:"end_time",dataIndex:["data","end_time"],title:"End Time",render:function(e){return D()(e).isValid()?D()(e).format("HH:mm"):e}},{visible:!0,key:"status_id",dataIndex:["data","status"],title:"Status",render:function(e){return null!==e&&void 0!==e?e:"-"}},{visible:!0,key:"action",width:120,dataIndex:"id",render:function(e,t,i){var l;return Object(M.jsx)("div",{className:"text-right d-flex !mk-gap-2",children:Object(M.jsx)(O.a,{size:"small",type:"primary",danger:!0,ghost:!0,onClick:function(){!function(e,t){X(t,!0),new k.a({url:"/api/v1/master-data/".concat(e),mode:"express"}).delete().then((function(i){var l,a;null!==i&&void 0!==i&&i.error?(X(t,!1),N([]),j.b.error(null!==(l=null===i||void 0===i?void 0:i.message)&&void 0!==l?l:"Error: delete by id "+e)):(V&&"undefined"!==typeof V[t]&&(V[t].isDeleted=!0,C(Object(n.a)(V)),X(t,!1)),j.b.success(null!==(a=null===i||void 0===i?void 0:i.message)&&void 0!==a?a:"Successfully deleted"),setTimeout((function(){C(Object(n.a)(V.filter((function(t){return t.id!==e})))),N([])}),2e3))})).catch((function(e){X(t,!1),N([])}))}(e,i)},loading:null!==(l=F[i])&&void 0!==l&&l,icon:Object(M.jsx)(U.a,{})})})}}],H=Object(c.useState)([]),E=Object(a.a)(H,2),F=E[0],N=E[1],R=Object(c.useState)(!1),z=Object(a.a)(R,2),P=(z[0],z[1],Object(c.useState)(!1)),Y=Object(a.a)(P,2),q=(Y[0],Y[1],Object(c.useState)(null)),K=Object(a.a)(q,2),W=(K[0],K[1],m.a.useForm()),X=(Object(a.a)(W,1)[0],function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];N((function(i){return i[e]=t,null!==i&&void 0!==i?i:[]}))});return Object(c.useEffect)((function(){v(!0),function(e){v(!0),new k.a({url:"/api/v1/master-data/".concat(e),config:{params:Object(l.a)({},h)}}).get().then((function(e){e.data=e.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{schedule_time:D()(null===e||void 0===e?void 0:e.schedule_time,"HH:mm").isValid()?D()(null===e||void 0===e?void 0:e.schedule_time,"HH:mm"):null===e||void 0===e?void 0:e.schedule_time})})),C(Object(n.a)(null===e||void 0===e?void 0:e.data)),w(Object(l.a)(Object(l.a)(Object(l.a)({},_),null===e||void 0===e?void 0:e.pagination),null===e||void 0===e?void 0:e.paginate)),v(!1)})).catch((function(e){C([]),v(!1)}))}(i)}),[h,i]),Object(M.jsx)(r.a.Fragment,{children:Object(M.jsx)(J.a,{children:Object(M.jsx)(x.a,{title:i,extra:Object(M.jsx)("div",{className:"text-right`",children:Object(M.jsx)(L.a,{permission:["admin"],theme:{type:"disabled",property:{message:"Access Denied"}},config:{type:"primary",size:"small",ghost:!0,icon:Object(M.jsx)(G.a,{})},children:"Filter"})}),children:Object(M.jsx)(y.a,{loading:s,dataSource:V,columns:null!==T&&void 0!==T?T:[],pagination:{pageSize:null===h||void 0===h?void 0:h.limit,current:null===h||void 0===h?void 0:h.page,total:null!==(t=null===_||void 0===_?void 0:_.total_items)&&void 0!==t?t:0,onChange:function(e,t){p(Object(l.a)(Object(l.a)({},h),{},{page:e,limit:t}))}}})})})})}));function X(e){var t=Object(o.g)(),i=Object(c.useState)([]),d=Object(a.a)(i,2),v=d[0],b=d[1],j=Object(c.useState)(!1),m=Object(a.a)(j,2),f=m[0],O=m[1],h=Object(c.useState)({page:1,limit:20}),p=Object(a.a)(h,2),g=p[0];p[1];Object(c.useEffect)((function(){O(!0),new k.a({url:"/api/v1/master-data/airline-type",config:{params:Object(l.a)({},g)}}).get().then((function(e){O(!1),b(Object(n.a)(null===e||void 0===e?void 0:e.data))})).catch((function(e){O(!1),b([])}))}),[g]);Object(V.b)(v,["identifier"],"ARR"),Object(V.b)(v,["identifier"],"DEPA");return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(u.a,{loading:!1,name:"Overview",containerType:"antd",positionName:["Display ","System"],thumbnail:null,extra:Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(L.a,{permission:["public","admin"],theme:{type:"disabled",property:{message:"Access Denied"}},config:{onClick:function(){t.push("/dashboard/display/system/create")},ghost:!0,icon:Object(M.jsx)(K.a,{}),type:"primary",size:"small"},children:"Add New"})})}),Object(M.jsx)(P.a,{children:f?"Loading....":Object(M.jsx)(s.a,{defaultTab:"all",tab:v.length>0?[{key:"all",title:"All",render:function(e){e.onChange;return Object(M.jsx)(r.a.Fragment,{children:Object(M.jsx)(q,{style:{minHeight:"300px"},children:function(e){return e.isVisible&&Object(M.jsx)("div",{children:Object(M.jsx)(z,{type:null!=="all"?"all":null,title:null!=="All"?"All":"-"})},"display-setting-overview-all")}})})}}].concat(Object(n.a)([].concat(Object(n.a)(Object(V.b)(v,["identifier"],"arr")),Object(n.a)(Object(V.b)(v,["identifier"],"depart"))).sort((function(e,t){return-1})).map((function(e){var t;return{key:null===e||void 0===e?void 0:e.identifier,title:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name,render:function(){return Object(M.jsx)(q,{style:{minHeight:"300px"},children:function(t){var i;return t.isVisible&&Object(M.jsx)(z,{type:null!==(i=null===e||void 0===e?void 0:e.identifier)&&void 0!==i?i:null})}})}}}))),Object(n.a)(null===v||void 0===v?void 0:v.filter((function(e){return 0===Object(V.b)([e],["identifier"],"arr").length&&0===Object(V.b)([e],["identifier"],"depart").length?e:null})).sort((function(e,t){return-1})).map((function(e){var t;return{key:null===e||void 0===e?void 0:e.identifier,title:null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.name,render:function(){return Object(M.jsx)(q,{style:{minHeight:"300px"},children:function(t){var i,n,l;return t.isVisible&&Object(M.jsx)(W,{type:null!==(i=null!==(n=null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.type)&&void 0!==n?n:null===e||void 0===e?void 0:e.identifier)&&void 0!==i?i:null})}})}}})))):[]})})]})}X.defaultProps={};t.default=Object(d.b)((function(e){var t=e.MasterData.airlines_type;return{type:null===t||void 0===t?void 0:t.list}}),{})(r.a.memo(X))}}]);
//# sourceMappingURL=17.60fa3a7c.chunk.js.map